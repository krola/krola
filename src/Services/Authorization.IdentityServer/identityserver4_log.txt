2019-07-07 11:22:14.289 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-07-07 11:22:14.486 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-07 11:22:14.488 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-07 11:22:14.491 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-07 11:22:14.492 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-07 11:22:14.494 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-07 11:22:14.495 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-07 11:22:14.634 +02:00 [DBG] Starting grant removal
2019-07-07 11:22:52.420 +02:00 [DBG] Login Url: /Account/Login
2019-07-07 11:22:52.422 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-07 11:22:52.424 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-07 11:22:52.426 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-07 11:22:52.428 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-07 11:22:52.429 +02:00 [DBG] Error Url: /home/error
2019-07-07 11:22:52.429 +02:00 [DBG] Error Id Parameter: errorId
2019-07-07 11:23:01.892 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-07-07 11:23:23.293 +02:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-07 11:23:23.739 +02:00 [ERR] Failed executing DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."AccessFailedCount", "u"."ConcurrencyStamp", "u"."Email", "u"."EmailConfirmed", "u"."LockoutEnabled", "u"."LockoutEnd", "u"."NormalizedEmail", "u"."NormalizedUserName", "u"."PasswordHash", "u"."PhoneNumber", "u"."PhoneNumberConfirmed", "u"."SecurityStamp", "u"."TwoFactorEnabled", "u"."UserName"
FROM "AspNetUsers" AS "u"
WHERE "u"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: AspNetUsers'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
2019-07-07 11:23:23.839 +02:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServerAspNetIdentity.Data.ApplicationDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: AspNetUsers'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.BufferlessMoveNext(DbContext _, Boolean buffer, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.FirstOrDefault_[TSource](IAsyncEnumerable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: AspNetUsers'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.BufferlessMoveNext(DbContext _, Boolean buffer, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.FirstOrDefault_[TSource](IAsyncEnumerable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
2019-07-07 11:23:23.863 +02:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServerAspNetIdentity.Data.ApplicationDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: AspNetUsers'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.BufferlessMoveNext(DbContext _, Boolean buffer, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.FirstOrDefault_[TSource](IAsyncEnumerable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: AspNetUsers'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.BufferlessMoveNext(DbContext _, Boolean buffer, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.FirstOrDefault_[TSource](IAsyncEnumerable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.TaskResultAsyncEnumerable`1.Enumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-07 11:23:33.913 +02:00 [INF] {"Username":"alice","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HLO2NINSK5DR:00000009","TimeStamp":"2019-07-07T09:23:33.0000000Z","ProcessId":31876,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-07-07 11:23:38.983 +02:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-07 11:23:38.993 +02:00 [INF] {"Username":"alice","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HLO2NINSK5DR:0000000B","TimeStamp":"2019-07-07T09:23:38.0000000Z","ProcessId":31876,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-07-07 11:24:13.506 +02:00 [DBG] TaskCanceledException. Exiting.
2019-07-07 11:24:13.530 +02:00 [DBG] Stopping grant removal
2019-07-07 11:26:08.712 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-07-07 11:26:08.809 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-07 11:26:08.811 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-07 11:26:08.814 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-07 11:26:08.815 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-07 11:26:08.816 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-07 11:26:08.817 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-07 11:26:08.900 +02:00 [DBG] Starting grant removal
2019-07-07 11:26:14.072 +02:00 [DBG] Login Url: /Account/Login
2019-07-07 11:26:14.074 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-07 11:26:14.076 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-07 11:26:14.077 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-07 11:26:14.079 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-07 11:26:14.080 +02:00 [DBG] Error Url: /home/error
2019-07-07 11:26:14.081 +02:00 [DBG] Error Id Parameter: errorId
2019-07-07 11:26:14.570 +02:00 [INF] {"Username":"alice","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HLO2NKK05LJI:00000001","TimeStamp":"2019-07-07T09:26:14.0000000Z","ProcessId":28684,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-07-07 11:26:18.416 +02:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-07 11:26:18.430 +02:00 [INF] {"Username":"alice","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HLO2NKK05LJL:00000004","TimeStamp":"2019-07-07T09:26:18.0000000Z","ProcessId":28684,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-07-07 11:26:26.179 +02:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-07 11:26:26.186 +02:00 [INF] {"Username":"alice","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HLO2NKK05LJL:00000005","TimeStamp":"2019-07-07T09:26:26.0000000Z","ProcessId":28684,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-07-07 11:26:38.528 +02:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-07 11:26:38.535 +02:00 [INF] {"Username":"bob","Endpoint":"UI","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HLO2NKK05LJL:00000006","TimeStamp":"2019-07-07T09:26:38.0000000Z","ProcessId":28684,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-07-07 11:27:12.366 +02:00 [DBG] TaskCanceledException. Exiting.
2019-07-07 11:27:12.391 +02:00 [DBG] Stopping grant removal
2019-07-07 11:28:22.365 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-07-07 11:28:22.467 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-07 11:28:22.468 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-07 11:28:22.468 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-07 11:28:22.469 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-07 11:28:22.469 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-07 11:28:22.469 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-07 11:28:22.546 +02:00 [WRN] Unable to bind to http://localhost:5000 on the IPv4 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-07-07 11:28:22.548 +02:00 [WRN] Unable to bind to http://localhost:5000 on the IPv6 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-07-07 11:28:22.550 +02:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address http://localhost:5000. ---> System.AggregateException: One or more errors occurred. (An attempt was made to access a socket in a way forbidden by its access permissions) (An attempt was made to access a socket in a way forbidden by its access permissions) ---> System.Net.Sockets.SocketException: An attempt was made to access a socket in a way forbidden by its access permissions
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransport.BindAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass22_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2019-07-07 11:28:22.595 +02:00 [FTL] An error occurred stopping the application
System.AggregateException: One or more errors occurred. (Not started. Call Start first.) ---> System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.StopAsync(CancellationToken token)
---> (Inner Exception #0) System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)<---

2019-07-07 11:28:50.935 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-07-07 11:28:51.040 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-07 11:28:51.041 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-07 11:28:51.041 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-07 11:28:51.042 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-07 11:28:51.042 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-07 11:28:51.042 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-07 11:28:51.131 +02:00 [DBG] Starting grant removal
2019-07-07 11:29:02.693 +02:00 [DBG] Login Url: /Account/Login
2019-07-07 11:29:02.695 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-07 11:29:02.698 +02:00 [DBG] Logout Url: /Account/Logout
2019-07-07 11:29:02.699 +02:00 [DBG] ConsentUrl Url: /consent
2019-07-07 11:29:02.701 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-07-07 11:29:02.702 +02:00 [DBG] Error Url: /home/error
2019-07-07 11:29:02.702 +02:00 [DBG] Error Id Parameter: errorId
2019-07-07 11:29:04.872 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-07-07 11:29:15.292 +02:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-07 11:29:15.759 +02:00 [DBG] Augmenting SignInContext
2019-07-07 11:29:15.763 +02:00 [DBG] Adding idp claim with value: local
2019-07-07 11:29:15.764 +02:00 [DBG] Adding amr claim with value: pwd
2019-07-07 11:29:15.766 +02:00 [DBG] Adding auth_time claim with value: 1562491755
2019-07-07 11:29:15.778 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-07-07 11:29:15.795 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"ab27fd78-f9aa-4959-917e-ccabdeb86986","DisplayName":"alice","Endpoint":"UI","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLO2NM688UCQ:00000006","TimeStamp":"2019-07-07T09:29:15.0000000Z","ProcessId":20616,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-07-07 11:29:15.859 +02:00 [DBG] 0 persisted grants found for ab27fd78-f9aa-4959-917e-ccabdeb86986
2019-07-07 11:29:30.109 +02:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-07 11:29:30.128 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2019-07-07 11:29:30.132 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2019-07-07 11:29:30.135 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2019-07-07 11:29:30.140 +02:00 [INF] {"SubjectId":"ab27fd78-f9aa-4959-917e-ccabdeb86986","DisplayName":"Alice Smith","Category":"Authentication","Name":"User Logout Success","EventType":"Success","Id":1002,"Message":null,"ActivityId":"0HLO2NM688UCQ:00000009","TimeStamp":"2019-07-07T09:29:30.0000000Z","ProcessId":20616,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLogoutSuccessEvent"}
2019-07-07 11:29:42.647 +02:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-07 11:29:42.667 +02:00 [DBG] Augmenting SignInContext
2019-07-07 11:29:42.667 +02:00 [DBG] Adding idp claim with value: local
2019-07-07 11:29:42.669 +02:00 [DBG] Adding amr claim with value: pwd
2019-07-07 11:29:42.674 +02:00 [DBG] Adding auth_time claim with value: 1562491782
2019-07-07 11:29:42.677 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-07-07 11:29:42.683 +02:00 [INF] {"Username":"bob","Provider":null,"ProviderUserId":null,"SubjectId":"b31cb476-ad0f-4225-8a11-bc4fbe45b99b","DisplayName":"bob","Endpoint":"UI","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLO2NM688UCQ:0000000C","TimeStamp":"2019-07-07T09:29:42.0000000Z","ProcessId":20616,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-07-07 11:29:42.708 +02:00 [DBG] 0 persisted grants found for b31cb476-ad0f-4225-8a11-bc4fbe45b99b
2019-07-07 12:28:51.172 +02:00 [INF] Removing 0 grants
2019-07-07 16:17:52.322 +02:00 [DBG] TaskCanceledException. Exiting.
2019-07-07 16:17:52.337 +02:00 [DBG] Stopping grant removal
2019-08-07 21:40:09.008 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-08-07 21:40:09.108 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-08-07 21:40:09.109 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-08-07 21:40:09.109 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-08-07 21:40:09.109 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-08-07 21:40:09.110 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-08-07 21:40:09.111 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-08-07 21:40:09.195 +02:00 [DBG] Starting grant removal
2019-08-07 21:50:45.906 +02:00 [DBG] TaskCanceledException. Exiting.
2019-08-07 21:50:45.917 +02:00 [DBG] Stopping grant removal
2019-08-11 21:14:37.455 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-08-11 21:14:37.624 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-08-11 21:14:37.624 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-08-11 21:14:37.625 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-08-11 21:14:37.625 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-08-11 21:14:37.625 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-08-11 21:14:37.625 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-08-11 21:14:37.754 +02:00 [DBG] Starting grant removal
2019-08-11 21:20:01.563 +02:00 [DBG] Login Url: /Account/Login
2019-08-11 21:20:01.566 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-08-11 21:20:01.568 +02:00 [DBG] Logout Url: /Account/Logout
2019-08-11 21:20:01.569 +02:00 [DBG] ConsentUrl Url: /consent
2019-08-11 21:20:01.571 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-08-11 21:20:01.571 +02:00 [DBG] Error Url: /home/error
2019-08-11 21:20:01.572 +02:00 [DBG] Error Id Parameter: errorId
2019-08-11 21:20:01.600 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-11 21:20:01.627 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-11 21:20:01.629 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-11 21:20:01.640 +02:00 [DBG] Start token request.
2019-08-11 21:20:01.649 +02:00 [DBG] Start client validation
2019-08-11 21:20:01.657 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-11 21:20:01.661 +02:00 [DBG] Start parsing for secret in post body
2019-08-11 21:20:01.687 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-11 21:20:01.687 +02:00 [DBG] Secret id found: ro.time_tracking
2019-08-11 21:20:02.322 +02:00 [DBG] ro.time_tracking found in database: false
2019-08-11 21:20:02.343 +02:00 [INF] {"ClientId":"ro.time_tracking","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Unknown client","ActivityId":"0HLOUI3K1CECT:00000001","TimeStamp":"2019-08-11T19:20:02.0000000Z","ProcessId":9460,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-08-11 21:20:02.354 +02:00 [ERR] No client with id 'ro.time_tracking' found. aborting
2019-08-11 22:14:37.811 +02:00 [INF] Removing 0 grants
2019-08-11 23:14:37.824 +02:00 [INF] Removing 0 grants
2019-08-12 00:14:37.836 +02:00 [INF] Removing 0 grants
2019-08-12 01:14:37.848 +02:00 [INF] Removing 0 grants
2019-08-12 02:14:37.851 +02:00 [INF] Removing 0 grants
2019-08-12 03:14:37.868 +02:00 [INF] Removing 0 grants
2019-08-12 04:14:37.884 +02:00 [INF] Removing 0 grants
2019-08-12 05:14:37.897 +02:00 [INF] Removing 0 grants
2019-08-12 06:14:37.911 +02:00 [INF] Removing 0 grants
2019-08-12 07:14:37.913 +02:00 [INF] Removing 0 grants
2019-08-12 09:31:34.037 +02:00 [INF] Removing 0 grants
2019-08-12 10:31:34.044 +02:00 [INF] Removing 0 grants
2019-08-12 11:31:34.082 +02:00 [INF] Removing 0 grants
2019-08-12 12:31:34.105 +02:00 [INF] Removing 0 grants
2019-08-12 13:31:34.133 +02:00 [INF] Removing 0 grants
2019-08-12 14:31:34.166 +02:00 [INF] Removing 0 grants
2019-08-12 15:31:34.205 +02:00 [INF] Removing 0 grants
2019-08-12 16:31:34.252 +02:00 [INF] Removing 0 grants
2019-08-12 19:57:45.062 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-12 19:57:45.067 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-12 19:57:45.068 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-12 19:57:45.068 +02:00 [DBG] Start token request.
2019-08-12 19:57:45.069 +02:00 [DBG] Start client validation
2019-08-12 19:57:45.069 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-12 19:57:45.069 +02:00 [DBG] Start parsing for secret in post body
2019-08-12 19:57:45.073 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-12 19:57:45.073 +02:00 [DBG] Secret id found: client
2019-08-12 19:57:45.537 +02:00 [DBG] client found in database: true
2019-08-12 19:57:45.543 +02:00 [DBG] client configuration validation for client client succeeded.
2019-08-12 19:57:45.553 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-08-12 19:57:45.553 +02:00 [DBG] Client validation success
2019-08-12 19:57:45.556 +02:00 [INF] {"ClientId":"client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLOUI3K1CECV:00000001","TimeStamp":"2019-08-12T17:57:45.0000000Z","ProcessId":9460,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-08-12 19:57:45.570 +02:00 [DBG] Start token request validation
2019-08-12 19:57:45.581 +02:00 [DBG] Start resource owner password token request validation
2019-08-12 19:57:45.590 +02:00 [ERR] ["client"] not authorized for resource owner flow, check the AllowedGrantTypes of client, request details: {"ClientId":"client","ClientName":null,"GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"TimeTrackingAdmin","password":"***REDACTED***","grant_type":"password","scope":"time_tracking_client","client_id":"client","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-08-12 19:57:45.603 +02:00 [INF] {"ClientId":"client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":null,"GrantType":"password","Error":"unauthorized_client","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLOUI3K1CECV:00000001","TimeStamp":"2019-08-12T17:57:45.0000000Z","ProcessId":9460,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-08-12 20:10:39.894 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-12 20:10:39.898 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-12 20:10:39.901 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-12 20:10:39.903 +02:00 [DBG] Start token request.
2019-08-12 20:10:39.904 +02:00 [DBG] Start client validation
2019-08-12 20:10:39.905 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-12 20:10:39.907 +02:00 [DBG] Start parsing for secret in post body
2019-08-12 20:10:39.913 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-12 20:10:39.913 +02:00 [DBG] Secret id found: client
2019-08-12 20:10:39.919 +02:00 [DBG] client found in database: true
2019-08-12 20:10:39.919 +02:00 [DBG] client configuration validation for client client succeeded.
2019-08-12 20:10:39.925 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-08-12 20:10:39.925 +02:00 [DBG] Client validation success
2019-08-12 20:10:39.927 +02:00 [INF] {"ClientId":"client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLOUI3K1CED1:00000001","TimeStamp":"2019-08-12T18:10:39.0000000Z","ProcessId":9460,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-08-12 20:10:39.931 +02:00 [DBG] Start token request validation
2019-08-12 20:10:39.932 +02:00 [DBG] Start resource owner password token request validation
2019-08-12 20:10:39.933 +02:00 [ERR] ["client"] not authorized for resource owner flow, check the AllowedGrantTypes of client, request details: {"ClientId":"client","ClientName":null,"GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking_client","client_id":"client","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-08-12 20:10:39.947 +02:00 [INF] {"ClientId":"client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":null,"GrantType":"password","Error":"unauthorized_client","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLOUI3K1CED1:00000001","TimeStamp":"2019-08-12T18:10:39.0000000Z","ProcessId":9460,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-08-12 20:12:39.543 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-12 20:12:39.546 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-12 20:12:39.548 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-12 20:12:39.550 +02:00 [DBG] Start token request.
2019-08-12 20:12:39.551 +02:00 [DBG] Start client validation
2019-08-12 20:12:39.552 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-12 20:12:39.553 +02:00 [DBG] Start parsing for secret in post body
2019-08-12 20:12:39.554 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-12 20:12:39.555 +02:00 [DBG] Secret id found: ro
2019-08-12 20:12:39.564 +02:00 [DBG] ro found in database: false
2019-08-12 20:12:39.565 +02:00 [INF] {"ClientId":"ro","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Unknown client","ActivityId":"0HLOUI3K1CED1:00000002","TimeStamp":"2019-08-12T18:12:39.0000000Z","ProcessId":9460,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-08-12 20:12:39.577 +02:00 [ERR] No client with id 'ro' found. aborting
2019-08-12 20:12:56.256 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-12 20:12:56.259 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-12 20:12:56.262 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-12 20:12:56.263 +02:00 [DBG] Start token request.
2019-08-12 20:12:56.264 +02:00 [DBG] Start client validation
2019-08-12 20:12:56.265 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-12 20:12:56.266 +02:00 [DBG] Start parsing for secret in post body
2019-08-12 20:12:56.267 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-12 20:12:56.268 +02:00 [DBG] Secret id found: ro.client
2019-08-12 20:12:56.278 +02:00 [DBG] ro.client found in database: true
2019-08-12 20:12:56.278 +02:00 [DBG] client configuration validation for client ro.client succeeded.
2019-08-12 20:12:56.280 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-08-12 20:12:56.281 +02:00 [DBG] Client validation success
2019-08-12 20:12:56.282 +02:00 [INF] {"ClientId":"ro.client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLOUI3K1CED1:00000003","TimeStamp":"2019-08-12T18:12:56.0000000Z","ProcessId":9460,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-08-12 20:12:56.289 +02:00 [DBG] Start token request validation
2019-08-12 20:12:56.290 +02:00 [DBG] Start resource owner password token request validation
2019-08-12 20:12:56.353 +02:00 [DBG] Found [] identity scopes in database
2019-08-12 20:12:56.502 +02:00 [DBG] Found ["api1"] API scopes in database
2019-08-12 20:12:56.521 +02:00 [DBG] Found [] identity scopes in database
2019-08-12 20:12:56.527 +02:00 [DBG] Found ["api1"] API scopes in database
2019-08-12 20:12:56.676 +02:00 [INF] Credentials validated for username: alice
2019-08-12 20:12:56.680 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"ab27fd78-f9aa-4959-917e-ccabdeb86986","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLOUI3K1CED1:00000003","TimeStamp":"2019-08-12T18:12:56.0000000Z","ProcessId":9460,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-12 20:12:56.692 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"ab27fd78-f9aa-4959-917e-ccabdeb86986","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLOUI3K1CED1:00000003","TimeStamp":"2019-08-12T18:12:56.0000000Z","ProcessId":9460,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-12 20:12:56.698 +02:00 [DBG] Resource owner password token request validation success.
2019-08-12 20:12:56.701 +02:00 [INF] Token request validation success
{"ClientId":"ro.client","ClientName":null,"GrantType":"password","Scopes":"api1","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"api1","client_id":"ro.client","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-08-12 20:12:56.723 +02:00 [DBG] Getting claims for access token for client: ro.client
2019-08-12 20:12:56.724 +02:00 [DBG] Getting claims for access token for subject: ab27fd78-f9aa-4959-917e-ccabdeb86986
2019-08-12 20:12:56.858 +02:00 [INF] {"ClientId":"ro.client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"ab27fd78-f9aa-4959-917e-ccabdeb86986","Scopes":"api1","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****apWA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLOUI3K1CED1:00000003","TimeStamp":"2019-08-12T18:12:56.0000000Z","ProcessId":9460,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-08-12 20:12:56.867 +02:00 [DBG] Token request success.
2019-08-12 20:13:36.192 +02:00 [INF] Removing 0 grants
2019-08-12 20:13:38.336 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-12 20:13:38.338 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-12 20:13:38.339 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-12 20:13:38.340 +02:00 [DBG] Start token request.
2019-08-12 20:13:38.342 +02:00 [DBG] Start client validation
2019-08-12 20:13:38.343 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-12 20:13:38.343 +02:00 [DBG] Start parsing for secret in post body
2019-08-12 20:13:38.344 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-12 20:13:38.345 +02:00 [DBG] Secret id found: client
2019-08-12 20:13:38.353 +02:00 [DBG] client found in database: true
2019-08-12 20:13:38.353 +02:00 [DBG] client configuration validation for client client succeeded.
2019-08-12 20:13:38.359 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-08-12 20:13:38.361 +02:00 [DBG] Client validation success
2019-08-12 20:13:38.362 +02:00 [INF] {"ClientId":"client","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLOUI3K1CED1:00000004","TimeStamp":"2019-08-12T18:13:38.0000000Z","ProcessId":9460,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-08-12 20:13:38.366 +02:00 [DBG] Start token request validation
2019-08-12 20:13:38.367 +02:00 [DBG] Start resource owner password token request validation
2019-08-12 20:13:38.367 +02:00 [ERR] ["client"] not authorized for resource owner flow, check the AllowedGrantTypes of client, request details: {"ClientId":"client","ClientName":null,"GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"api1","client_id":"client","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-08-12 20:13:38.370 +02:00 [INF] {"ClientId":"client","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":null,"GrantType":"password","Error":"unauthorized_client","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLOUI3K1CED1:00000004","TimeStamp":"2019-08-12T18:13:38.0000000Z","ProcessId":9460,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-08-12 20:15:04.145 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-12 20:15:04.146 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-12 20:15:04.147 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-12 20:15:04.148 +02:00 [DBG] Start token request.
2019-08-12 20:15:04.149 +02:00 [DBG] Start client validation
2019-08-12 20:15:04.149 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-12 20:15:04.149 +02:00 [DBG] Start parsing for secret in post body
2019-08-12 20:15:04.150 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-12 20:15:04.150 +02:00 [DBG] Secret id found: ro.time_tracking
2019-08-12 20:15:04.154 +02:00 [DBG] ro.time_tracking found in database: false
2019-08-12 20:15:04.155 +02:00 [INF] {"ClientId":"ro.time_tracking","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Unknown client","ActivityId":"0HLOUI3K1CED1:00000005","TimeStamp":"2019-08-12T18:15:04.0000000Z","ProcessId":9460,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-08-12 20:15:04.158 +02:00 [ERR] No client with id 'ro.time_tracking' found. aborting
2019-08-12 20:15:23.912 +02:00 [DBG] TaskCanceledException. Exiting.
2019-08-12 20:15:23.928 +02:00 [DBG] Stopping grant removal
2019-08-12 20:32:09.492 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-08-12 20:32:09.597 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-08-12 20:32:09.599 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-08-12 20:32:09.599 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-08-12 20:32:09.602 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-08-12 20:32:09.603 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-08-12 20:32:09.604 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-08-12 20:32:09.692 +02:00 [WRN] Unable to bind to http://localhost:5000 on the IPv4 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-08-12 20:32:09.695 +02:00 [WRN] Unable to bind to http://localhost:5000 on the IPv6 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-08-12 20:32:09.698 +02:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address http://localhost:5000. ---> System.AggregateException: One or more errors occurred. (An attempt was made to access a socket in a way forbidden by its access permissions) (An attempt was made to access a socket in a way forbidden by its access permissions) ---> System.Net.Sockets.SocketException: An attempt was made to access a socket in a way forbidden by its access permissions
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransport.BindAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2019-08-12 20:32:09.737 +02:00 [FTL] An error occurred stopping the application
System.AggregateException: One or more errors occurred. (Not started. Call Start first.) ---> System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.StopAsync(CancellationToken token)
---> (Inner Exception #0) System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)<---

2019-08-12 20:32:46.342 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-08-12 20:32:46.486 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-08-12 20:32:46.488 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-08-12 20:32:46.491 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-08-12 20:32:46.492 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-08-12 20:32:46.493 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-08-12 20:32:46.494 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-08-12 20:32:46.584 +02:00 [DBG] Starting grant removal
2019-08-12 20:32:51.486 +02:00 [DBG] Login Url: /Account/Login
2019-08-12 20:32:51.488 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-08-12 20:32:51.491 +02:00 [DBG] Logout Url: /Account/Logout
2019-08-12 20:32:51.493 +02:00 [DBG] ConsentUrl Url: /consent
2019-08-12 20:32:51.494 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-08-12 20:32:51.495 +02:00 [DBG] Error Url: /home/error
2019-08-12 20:32:51.496 +02:00 [DBG] Error Id Parameter: errorId
2019-08-12 20:32:51.517 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-12 20:32:51.536 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-12 20:32:51.539 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-12 20:32:51.550 +02:00 [DBG] Start token request.
2019-08-12 20:32:51.556 +02:00 [DBG] Start client validation
2019-08-12 20:32:51.561 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-12 20:32:51.567 +02:00 [DBG] Start parsing for secret in post body
2019-08-12 20:32:51.587 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-12 20:32:51.587 +02:00 [DBG] Secret id found: ro.time_tracking
2019-08-12 20:32:52.048 +02:00 [DBG] ro.time_tracking found in database: false
2019-08-12 20:32:52.069 +02:00 [INF] {"ClientId":"ro.time_tracking","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Unknown client","ActivityId":"0HLOVADTQDM0R:00000001","TimeStamp":"2019-08-12T18:32:52.0000000Z","ProcessId":2744,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-08-12 20:32:52.082 +02:00 [ERR] No client with id 'ro.time_tracking' found. aborting
2019-08-12 20:33:41.152 +02:00 [DBG] TaskCanceledException. Exiting.
2019-08-12 20:33:41.177 +02:00 [DBG] Stopping grant removal
2019-08-12 20:35:23.851 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-08-12 20:35:23.960 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-08-12 20:35:23.963 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-08-12 20:35:23.967 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-08-12 20:35:23.969 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-08-12 20:35:23.970 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-08-12 20:35:23.973 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-08-12 20:35:24.061 +02:00 [WRN] Unable to bind to http://localhost:5000 on the IPv4 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-08-12 20:35:24.065 +02:00 [WRN] Unable to bind to http://localhost:5000 on the IPv6 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-08-12 20:35:24.070 +02:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address http://localhost:5000. ---> System.AggregateException: One or more errors occurred. (An attempt was made to access a socket in a way forbidden by its access permissions) (An attempt was made to access a socket in a way forbidden by its access permissions) ---> System.Net.Sockets.SocketException: An attempt was made to access a socket in a way forbidden by its access permissions
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransport.BindAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2019-08-12 20:35:24.106 +02:00 [FTL] An error occurred stopping the application
System.AggregateException: One or more errors occurred. (Not started. Call Start first.) ---> System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.StopAsync(CancellationToken token)
---> (Inner Exception #0) System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)<---

2019-08-12 20:35:37.377 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-08-12 20:35:37.481 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-08-12 20:35:37.484 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-08-12 20:35:37.489 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-08-12 20:35:37.490 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-08-12 20:35:37.491 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-08-12 20:35:37.492 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-08-12 20:35:37.581 +02:00 [DBG] Starting grant removal
2019-08-12 20:35:52.037 +02:00 [DBG] Login Url: /Account/Login
2019-08-12 20:35:52.039 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-08-12 20:35:52.041 +02:00 [DBG] Logout Url: /Account/Logout
2019-08-12 20:35:52.043 +02:00 [DBG] ConsentUrl Url: /consent
2019-08-12 20:35:52.045 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-08-12 20:35:52.046 +02:00 [DBG] Error Url: /home/error
2019-08-12 20:35:52.047 +02:00 [DBG] Error Id Parameter: errorId
2019-08-12 20:35:52.070 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-12 20:35:52.089 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-12 20:35:52.092 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-12 20:35:52.102 +02:00 [DBG] Start token request.
2019-08-12 20:35:52.108 +02:00 [DBG] Start client validation
2019-08-12 20:35:52.114 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-12 20:35:52.119 +02:00 [DBG] Start parsing for secret in post body
2019-08-12 20:35:52.135 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-12 20:35:52.135 +02:00 [DBG] Secret id found: ro.time_tracking
2019-08-12 20:35:52.977 +02:00 [DBG] ro.time_tracking found in database: true
2019-08-12 20:35:52.989 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-08-12 20:35:53.000 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-08-12 20:35:53.001 +02:00 [DBG] Client validation success
2019-08-12 20:35:53.014 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLOVAFJKHNO7:00000001","TimeStamp":"2019-08-12T18:35:53.0000000Z","ProcessId":16728,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-08-12 20:35:53.034 +02:00 [DBG] Start token request validation
2019-08-12 20:35:53.044 +02:00 [DBG] Start resource owner password token request validation
2019-08-12 20:35:53.082 +02:00 [DBG] Found [] identity scopes in database
2019-08-12 20:35:53.207 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-12 20:35:53.222 +02:00 [DBG] Found [] identity scopes in database
2019-08-12 20:35:53.228 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-12 20:35:53.336 +02:00 [INF] Credentials validated for username: alice
2019-08-12 20:35:53.339 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLOVAFJKHNO7:00000001","TimeStamp":"2019-08-12T18:35:53.0000000Z","ProcessId":16728,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-12 20:35:53.354 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLOVAFJKHNO7:00000001","TimeStamp":"2019-08-12T18:35:53.0000000Z","ProcessId":16728,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-12 20:35:53.362 +02:00 [DBG] Resource owner password token request validation success.
2019-08-12 20:35:53.369 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-08-12 20:35:53.409 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-08-12 20:35:53.410 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-08-12 20:35:53.546 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****dGmA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLOVAFJKHNO7:00000001","TimeStamp":"2019-08-12T18:35:53.0000000Z","ProcessId":16728,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-08-12 20:35:53.558 +02:00 [DBG] Token request success.
2019-08-12 21:42:05.743 +02:00 [INF] Removing 0 grants
2019-08-12 21:44:37.229 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-08-12 21:44:37.233 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-08-12 21:44:37.233 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-08-12 21:44:37.241 +02:00 [DBG] Start discovery request
2019-08-12 21:44:37.371 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-08-12 21:44:37.461 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-08-12 21:44:37.466 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-08-12 21:44:37.469 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-08-12 21:44:37.480 +02:00 [DBG] Start key discovery request
2019-08-12 21:45:07.564 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-12 21:45:07.566 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-12 21:45:07.567 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-12 21:45:07.569 +02:00 [DBG] Start token request.
2019-08-12 21:45:07.571 +02:00 [DBG] Start client validation
2019-08-12 21:45:07.572 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-12 21:45:07.574 +02:00 [DBG] Start parsing for secret in post body
2019-08-12 21:45:07.579 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-12 21:45:07.580 +02:00 [DBG] Secret id found: ro.time_tracking
2019-08-12 21:45:07.586 +02:00 [DBG] ro.time_tracking found in database: true
2019-08-12 21:45:07.590 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-08-12 21:45:07.594 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-08-12 21:45:07.595 +02:00 [DBG] Client validation success
2019-08-12 21:45:07.596 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLOVAFJKHNOB:00000001","TimeStamp":"2019-08-12T19:45:07.0000000Z","ProcessId":16728,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-08-12 21:45:07.607 +02:00 [DBG] Start token request validation
2019-08-12 21:45:07.608 +02:00 [DBG] Start resource owner password token request validation
2019-08-12 21:45:07.612 +02:00 [DBG] Found [] identity scopes in database
2019-08-12 21:45:07.618 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-12 21:45:07.625 +02:00 [DBG] Found [] identity scopes in database
2019-08-12 21:45:07.634 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-12 21:45:07.651 +02:00 [INF] Credentials validated for username: alice
2019-08-12 21:45:07.654 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLOVAFJKHNOB:00000001","TimeStamp":"2019-08-12T19:45:07.0000000Z","ProcessId":16728,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-12 21:45:07.666 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLOVAFJKHNOB:00000001","TimeStamp":"2019-08-12T19:45:07.0000000Z","ProcessId":16728,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-12 21:45:07.675 +02:00 [DBG] Resource owner password token request validation success.
2019-08-12 21:45:07.678 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-08-12 21:45:07.685 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-08-12 21:45:07.686 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-08-12 21:45:07.703 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****RuAA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLOVAFJKHNOB:00000001","TimeStamp":"2019-08-12T19:45:07.0000000Z","ProcessId":16728,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-08-12 21:45:07.716 +02:00 [DBG] Token request success.
2019-08-12 22:21:19.619 +02:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-08-12 22:21:19.712 +02:00 [DBG] Augmenting SignInContext
2019-08-12 22:21:19.715 +02:00 [DBG] Adding idp claim with value: local
2019-08-12 22:21:19.715 +02:00 [DBG] Adding amr claim with value: pwd
2019-08-12 22:21:19.716 +02:00 [DBG] Adding auth_time claim with value: 1565641279
2019-08-12 22:21:19.735 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-08-12 22:21:19.743 +02:00 [INF] {"Username":"bob","Provider":null,"ProviderUserId":null,"SubjectId":"3c582a5d-f794-4b53-8803-44458e96bf03","DisplayName":"bob","Endpoint":"UI","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLOVAFJKHNOG:00000004","TimeStamp":"2019-08-12T20:21:19.0000000Z","ProcessId":16728,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-12 22:21:26.434 +02:00 [DBG] 0 persisted grants found for 3c582a5d-f794-4b53-8803-44458e96bf03
2019-08-12 22:21:32.901 +02:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-08-12 22:21:32.920 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2019-08-12 22:21:32.927 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2019-08-12 22:21:32.933 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2019-08-12 22:21:32.934 +02:00 [INF] {"SubjectId":"3c582a5d-f794-4b53-8803-44458e96bf03","DisplayName":"Bob Smith","Category":"Authentication","Name":"User Logout Success","EventType":"Success","Id":1002,"Message":null,"ActivityId":"0HLOVAFJKHNOG:00000009","TimeStamp":"2019-08-12T20:21:32.0000000Z","ProcessId":16728,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLogoutSuccessEvent"}
2019-08-12 22:21:51.557 +02:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-08-12 22:21:51.579 +02:00 [DBG] Augmenting SignInContext
2019-08-12 22:21:51.580 +02:00 [DBG] Adding idp claim with value: local
2019-08-12 22:21:51.581 +02:00 [DBG] Adding amr claim with value: pwd
2019-08-12 22:21:51.583 +02:00 [DBG] Adding auth_time claim with value: 1565641311
2019-08-12 22:21:51.587 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-08-12 22:21:51.592 +02:00 [INF] {"Username":"bob","Provider":null,"ProviderUserId":null,"SubjectId":"3c582a5d-f794-4b53-8803-44458e96bf03","DisplayName":"bob","Endpoint":"UI","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLOVAFJKHNOG:0000000C","TimeStamp":"2019-08-12T20:21:51.0000000Z","ProcessId":16728,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-12 22:21:56.430 +02:00 [DBG] 0 persisted grants found for 3c582a5d-f794-4b53-8803-44458e96bf03
2019-08-12 22:23:05.138 +02:00 [DBG] 0 persisted grants found for 3c582a5d-f794-4b53-8803-44458e96bf03
2019-08-12 22:23:06.548 +02:00 [DBG] 0 persisted grants found for 3c582a5d-f794-4b53-8803-44458e96bf03
2019-08-12 22:23:07.245 +02:00 [DBG] 0 persisted grants found for 3c582a5d-f794-4b53-8803-44458e96bf03
2019-08-12 22:24:28.682 +02:00 [DBG] TaskCanceledException. Exiting.
2019-08-12 22:24:28.696 +02:00 [DBG] Stopping grant removal
2019-08-12 22:25:23.972 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-08-12 22:25:24.026 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-08-12 22:25:24.026 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-08-12 22:25:24.026 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-08-12 22:25:24.026 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-08-12 22:25:24.026 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-08-12 22:25:24.027 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-08-12 22:25:24.179 +02:00 [DBG] Starting grant removal
2019-08-12 22:25:24.643 +02:00 [DBG] Login Url: /Account/Login
2019-08-12 22:25:24.646 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-08-12 22:25:24.646 +02:00 [DBG] Logout Url: /Account/Logout
2019-08-12 22:25:24.646 +02:00 [DBG] ConsentUrl Url: /consent
2019-08-12 22:25:24.646 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-08-12 22:25:24.646 +02:00 [DBG] Error Url: /home/error
2019-08-12 22:25:24.646 +02:00 [DBG] Error Id Parameter: errorId
2019-08-12 22:25:43.721 +02:00 [DBG] 0 persisted grants found for 3c582a5d-f794-4b53-8803-44458e96bf03
2019-08-12 22:25:52.788 +02:00 [DBG] 0 persisted grants found for 3c582a5d-f794-4b53-8803-44458e96bf03
2019-08-12 22:30:47.382 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-08-12 22:30:47.735 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-08-12 22:30:47.735 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-08-12 22:30:47.736 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-08-12 22:30:47.736 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-08-12 22:30:47.736 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-08-12 22:30:47.736 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-08-12 22:30:47.987 +02:00 [DBG] Starting grant removal
2019-08-12 22:30:48.493 +02:00 [DBG] Login Url: /Account/Login
2019-08-12 22:30:48.496 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-08-12 22:30:48.496 +02:00 [DBG] Logout Url: /Account/Logout
2019-08-12 22:30:48.496 +02:00 [DBG] ConsentUrl Url: /consent
2019-08-12 22:30:48.496 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-08-12 22:30:48.496 +02:00 [DBG] Error Url: /home/error
2019-08-12 22:30:48.496 +02:00 [DBG] Error Id Parameter: errorId
2019-08-13 23:21:09.216 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-08-13 23:21:09.488 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-08-13 23:21:09.493 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-08-13 23:21:09.495 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-08-13 23:21:09.496 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-08-13 23:21:09.497 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-08-13 23:21:09.499 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-08-13 23:21:09.592 +02:00 [DBG] Starting grant removal
2019-08-13 23:21:12.786 +02:00 [DBG] Login Url: /Account/Login
2019-08-13 23:21:12.787 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-08-13 23:21:12.790 +02:00 [DBG] Logout Url: /Account/Logout
2019-08-13 23:21:12.794 +02:00 [DBG] ConsentUrl Url: /consent
2019-08-13 23:21:12.797 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-08-13 23:21:12.798 +02:00 [DBG] Error Url: /home/error
2019-08-13 23:21:12.801 +02:00 [DBG] Error Id Parameter: errorId
2019-08-13 23:21:12.827 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-13 23:21:12.846 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-13 23:21:12.849 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-13 23:21:12.863 +02:00 [DBG] Start token request.
2019-08-13 23:21:12.870 +02:00 [DBG] Start client validation
2019-08-13 23:21:12.877 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-13 23:21:12.880 +02:00 [DBG] Start parsing for secret in post body
2019-08-13 23:21:12.901 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-13 23:21:12.901 +02:00 [DBG] Secret id found: ro.time_tracking
2019-08-13 23:21:14.043 +02:00 [DBG] ro.time_tracking found in database: true
2019-08-13 23:21:14.057 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-08-13 23:21:14.066 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-08-13 23:21:14.067 +02:00 [DBG] Client validation success
2019-08-13 23:21:14.083 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLP06GLECB4J:00000001","TimeStamp":"2019-08-13T21:21:14.0000000Z","ProcessId":34980,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-08-13 23:21:14.103 +02:00 [DBG] Start token request validation
2019-08-13 23:21:14.113 +02:00 [DBG] Start resource owner password token request validation
2019-08-13 23:21:14.153 +02:00 [DBG] Found [] identity scopes in database
2019-08-13 23:21:14.294 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-13 23:21:14.310 +02:00 [DBG] Found [] identity scopes in database
2019-08-13 23:21:14.315 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-13 23:21:14.438 +02:00 [INF] Credentials validated for username: alice
2019-08-13 23:21:14.442 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLP06GLECB4J:00000001","TimeStamp":"2019-08-13T21:21:14.0000000Z","ProcessId":34980,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-13 23:21:14.455 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLP06GLECB4J:00000001","TimeStamp":"2019-08-13T21:21:14.0000000Z","ProcessId":34980,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-13 23:21:14.463 +02:00 [DBG] Resource owner password token request validation success.
2019-08-13 23:21:14.470 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-08-13 23:21:14.497 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-08-13 23:21:14.497 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-08-13 23:21:14.656 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****EvKw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLP06GLECB4J:00000001","TimeStamp":"2019-08-13T21:21:14.0000000Z","ProcessId":34980,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-08-13 23:21:14.666 +02:00 [DBG] Token request success.
2019-08-13 23:21:46.377 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-08-13 23:21:46.382 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-08-13 23:21:46.384 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-08-13 23:21:46.391 +02:00 [DBG] Start discovery request
2019-08-13 23:21:46.528 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-08-13 23:21:46.587 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-08-13 23:21:46.590 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-08-13 23:21:46.592 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-08-13 23:21:46.602 +02:00 [DBG] Start key discovery request
2019-08-13 23:27:42.658 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-13 23:27:42.663 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-13 23:27:42.665 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-13 23:27:42.668 +02:00 [DBG] Start token request.
2019-08-13 23:27:42.669 +02:00 [DBG] Start client validation
2019-08-13 23:27:42.669 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-13 23:27:42.671 +02:00 [DBG] Start parsing for secret in post body
2019-08-13 23:27:42.675 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-13 23:27:42.676 +02:00 [DBG] Secret id found: ro.time_tracking
2019-08-13 23:27:42.682 +02:00 [DBG] ro.time_tracking found in database: true
2019-08-13 23:27:42.683 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-08-13 23:27:42.687 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-08-13 23:27:42.688 +02:00 [DBG] Client validation success
2019-08-13 23:27:42.689 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLP06GLECB4M:00000001","TimeStamp":"2019-08-13T21:27:42.0000000Z","ProcessId":34980,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-08-13 23:27:42.693 +02:00 [DBG] Start token request validation
2019-08-13 23:27:42.697 +02:00 [DBG] Start resource owner password token request validation
2019-08-13 23:27:42.701 +02:00 [DBG] Found [] identity scopes in database
2019-08-13 23:27:42.712 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-13 23:27:42.718 +02:00 [DBG] Found [] identity scopes in database
2019-08-13 23:27:42.724 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-13 23:27:42.741 +02:00 [INF] Credentials validated for username: alice
2019-08-13 23:27:42.743 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLP06GLECB4M:00000001","TimeStamp":"2019-08-13T21:27:42.0000000Z","ProcessId":34980,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-13 23:27:42.753 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLP06GLECB4M:00000001","TimeStamp":"2019-08-13T21:27:42.0000000Z","ProcessId":34980,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-13 23:27:42.759 +02:00 [DBG] Resource owner password token request validation success.
2019-08-13 23:27:42.762 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-08-13 23:27:42.769 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-08-13 23:27:42.770 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-08-13 23:27:42.778 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****CN1g","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLP06GLECB4M:00000001","TimeStamp":"2019-08-13T21:27:42.0000000Z","ProcessId":34980,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-08-13 23:27:42.784 +02:00 [DBG] Token request success.
2019-08-13 23:28:02.771 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-08-13 23:28:02.774 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-08-13 23:28:02.777 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-08-13 23:28:02.779 +02:00 [DBG] Start discovery request
2019-08-13 23:28:02.786 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-08-13 23:28:02.842 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-08-13 23:28:02.847 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-08-13 23:28:02.849 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-08-13 23:28:02.851 +02:00 [DBG] Start key discovery request
2019-08-13 23:29:24.577 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-08-13 23:29:24.582 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-08-13 23:29:24.585 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-08-13 23:29:24.588 +02:00 [DBG] Start discovery request
2019-08-13 23:29:24.596 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-08-13 23:29:24.644 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-08-13 23:29:24.647 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-08-13 23:29:24.650 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-08-13 23:29:24.652 +02:00 [DBG] Start key discovery request
2019-08-13 23:53:39.632 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-13 23:53:39.636 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-13 23:53:39.640 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-13 23:53:39.643 +02:00 [DBG] Start token request.
2019-08-13 23:53:39.644 +02:00 [DBG] Start client validation
2019-08-13 23:53:39.647 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-13 23:53:39.648 +02:00 [DBG] Start parsing for secret in post body
2019-08-13 23:53:39.650 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-13 23:53:39.651 +02:00 [DBG] Secret id found: ro.time_tracking
2019-08-13 23:53:39.657 +02:00 [DBG] ro.time_tracking found in database: true
2019-08-13 23:53:39.659 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-08-13 23:53:39.662 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-08-13 23:53:39.663 +02:00 [DBG] Client validation success
2019-08-13 23:53:39.664 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLP06GLECB4Q:00000001","TimeStamp":"2019-08-13T21:53:39.0000000Z","ProcessId":34980,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-08-13 23:53:39.673 +02:00 [DBG] Start token request validation
2019-08-13 23:53:39.674 +02:00 [DBG] Start resource owner password token request validation
2019-08-13 23:53:39.677 +02:00 [DBG] Found [] identity scopes in database
2019-08-13 23:53:39.683 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-13 23:53:39.687 +02:00 [DBG] Found [] identity scopes in database
2019-08-13 23:53:39.696 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-13 23:53:39.711 +02:00 [INF] Credentials validated for username: alice
2019-08-13 23:53:39.714 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLP06GLECB4Q:00000001","TimeStamp":"2019-08-13T21:53:39.0000000Z","ProcessId":34980,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-13 23:53:39.720 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLP06GLECB4Q:00000001","TimeStamp":"2019-08-13T21:53:39.0000000Z","ProcessId":34980,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-13 23:53:39.729 +02:00 [DBG] Resource owner password token request validation success.
2019-08-13 23:53:39.730 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-08-13 23:53:39.734 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-08-13 23:53:39.738 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-08-13 23:53:39.748 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****lMEw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLP06GLECB4Q:00000001","TimeStamp":"2019-08-13T21:53:39.0000000Z","ProcessId":34980,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-08-13 23:53:39.755 +02:00 [DBG] Token request success.
2019-08-13 23:54:00.607 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-08-13 23:54:00.610 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-08-13 23:54:00.613 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-08-13 23:54:00.617 +02:00 [DBG] Start discovery request
2019-08-13 23:54:00.627 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-08-13 23:54:00.684 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-08-13 23:54:00.686 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-08-13 23:54:00.690 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-08-13 23:54:00.695 +02:00 [DBG] Start key discovery request
2019-08-14 08:38:40.618 +02:00 [INF] Removing 0 grants
2019-08-14 09:38:40.719 +02:00 [INF] Removing 0 grants
2019-08-14 10:38:40.752 +02:00 [INF] Removing 0 grants
2019-08-14 11:38:40.784 +02:00 [INF] Removing 0 grants
2019-08-14 11:52:27.291 +02:00 [DBG] TaskCanceledException. Exiting.
2019-08-14 11:52:27.314 +02:00 [DBG] Stopping grant removal
2019-08-27 22:01:52.083 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-08-27 22:01:52.458 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-08-27 22:01:52.459 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-08-27 22:01:52.459 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-08-27 22:01:52.460 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-08-27 22:01:52.460 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-08-27 22:01:52.461 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-08-27 22:01:52.616 +02:00 [DBG] Starting grant removal
2019-08-27 22:39:30.488 +02:00 [DBG] Login Url: /Account/Login
2019-08-27 22:39:30.490 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-08-27 22:39:30.491 +02:00 [DBG] Logout Url: /Account/Logout
2019-08-27 22:39:30.492 +02:00 [DBG] ConsentUrl Url: /consent
2019-08-27 22:39:30.494 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-08-27 22:39:30.495 +02:00 [DBG] Error Url: /home/error
2019-08-27 22:39:30.495 +02:00 [DBG] Error Id Parameter: errorId
2019-08-27 22:39:30.518 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-27 22:39:30.537 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-27 22:39:30.539 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-27 22:39:30.549 +02:00 [DBG] Start token request.
2019-08-27 22:39:30.554 +02:00 [DBG] Start client validation
2019-08-27 22:39:30.560 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-27 22:39:30.565 +02:00 [DBG] Start parsing for secret in post body
2019-08-27 22:39:30.602 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-27 22:39:30.602 +02:00 [DBG] Secret id found: ro.time_tracking
2019-08-27 22:39:31.717 +02:00 [DBG] ro.time_tracking found in database: true
2019-08-27 22:39:31.727 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-08-27 22:39:31.737 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-08-27 22:39:31.738 +02:00 [DBG] Client validation success
2019-08-27 22:39:31.752 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPB5QKJ1N08:00000001","TimeStamp":"2019-08-27T20:39:31.0000000Z","ProcessId":18912,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-08-27 22:39:31.772 +02:00 [DBG] Start token request validation
2019-08-27 22:39:31.784 +02:00 [DBG] Start resource owner password token request validation
2019-08-27 22:39:31.830 +02:00 [DBG] Found [] identity scopes in database
2019-08-27 22:39:31.973 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-27 22:39:31.987 +02:00 [DBG] Found [] identity scopes in database
2019-08-27 22:39:31.991 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-27 22:39:32.117 +02:00 [INF] Credentials validated for username: alice
2019-08-27 22:39:32.119 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPB5QKJ1N08:00000001","TimeStamp":"2019-08-27T20:39:32.0000000Z","ProcessId":18912,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-27 22:39:32.130 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPB5QKJ1N08:00000001","TimeStamp":"2019-08-27T20:39:32.0000000Z","ProcessId":18912,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-27 22:39:32.133 +02:00 [DBG] Resource owner password token request validation success.
2019-08-27 22:39:32.138 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-08-27 22:39:32.163 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-08-27 22:39:32.164 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-08-27 22:39:32.326 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****sKwQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPB5QKJ1N08:00000001","TimeStamp":"2019-08-27T20:39:32.0000000Z","ProcessId":18912,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-08-27 22:39:32.333 +02:00 [DBG] Token request success.
2019-08-27 22:46:33.299 +02:00 [DBG] TaskCanceledException. Exiting.
2019-08-27 22:46:33.310 +02:00 [DBG] Stopping grant removal
2019-08-29 18:54:46.697 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-08-29 18:54:46.870 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-08-29 18:54:46.871 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-08-29 18:54:46.872 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-08-29 18:54:46.872 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-08-29 18:54:46.872 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-08-29 18:54:46.873 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-08-29 18:54:46.984 +02:00 [DBG] Starting grant removal
2019-08-29 18:57:44.029 +02:00 [DBG] Login Url: /Account/Login
2019-08-29 18:57:44.031 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-08-29 18:57:44.034 +02:00 [DBG] Logout Url: /Account/Logout
2019-08-29 18:57:44.037 +02:00 [DBG] ConsentUrl Url: /consent
2019-08-29 18:57:44.039 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-08-29 18:57:44.041 +02:00 [DBG] Error Url: /home/error
2019-08-29 18:57:44.043 +02:00 [DBG] Error Id Parameter: errorId
2019-08-29 18:57:44.070 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-29 18:57:44.093 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-29 18:57:44.095 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-29 18:57:44.108 +02:00 [DBG] Start token request.
2019-08-29 18:57:44.117 +02:00 [DBG] Start client validation
2019-08-29 18:57:44.123 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-29 18:57:44.127 +02:00 [DBG] Start parsing for secret in post body
2019-08-29 18:57:44.143 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-29 18:57:44.144 +02:00 [DBG] Secret id found: ro.time_tracking
2019-08-29 18:57:45.131 +02:00 [DBG] ro.time_tracking found in database: true
2019-08-29 18:57:45.145 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-08-29 18:57:45.158 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-08-29 18:57:45.159 +02:00 [DBG] Client validation success
2019-08-29 18:57:45.174 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPCK81CBBMR:00000001","TimeStamp":"2019-08-29T16:57:45.0000000Z","ProcessId":2380,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-08-29 18:57:45.197 +02:00 [DBG] Start token request validation
2019-08-29 18:57:45.211 +02:00 [DBG] Start resource owner password token request validation
2019-08-29 18:57:45.257 +02:00 [DBG] Found [] identity scopes in database
2019-08-29 18:57:45.431 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-29 18:57:45.450 +02:00 [DBG] Found [] identity scopes in database
2019-08-29 18:57:45.457 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-29 18:57:45.586 +02:00 [INF] Credentials validated for username: alice
2019-08-29 18:57:45.592 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPCK81CBBMR:00000001","TimeStamp":"2019-08-29T16:57:45.0000000Z","ProcessId":2380,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-29 18:57:45.608 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPCK81CBBMR:00000001","TimeStamp":"2019-08-29T16:57:45.0000000Z","ProcessId":2380,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-29 18:57:45.619 +02:00 [DBG] Resource owner password token request validation success.
2019-08-29 18:57:45.627 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-08-29 18:57:45.661 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-08-29 18:57:45.662 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-08-29 18:57:45.826 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****c6Tw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPCK81CBBMR:00000001","TimeStamp":"2019-08-29T16:57:45.0000000Z","ProcessId":2380,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-08-29 18:57:45.838 +02:00 [DBG] Token request success.
2019-08-29 18:58:11.057 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-08-29 18:58:11.064 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-08-29 18:58:11.067 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-08-29 18:58:11.074 +02:00 [DBG] Start discovery request
2019-08-29 18:58:11.211 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-08-29 18:58:11.273 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-08-29 18:58:11.278 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-08-29 18:58:11.280 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-08-29 18:58:11.287 +02:00 [DBG] Start key discovery request
2019-08-29 19:54:47.027 +02:00 [INF] Removing 0 grants
2019-08-29 21:07:46.059 +02:00 [INF] Removing 0 grants
2019-08-29 22:07:46.077 +02:00 [INF] Removing 0 grants
2019-08-29 22:25:56.700 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-29 22:25:56.705 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-29 22:25:56.707 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-29 22:25:56.709 +02:00 [DBG] Start token request.
2019-08-29 22:25:56.711 +02:00 [DBG] Start client validation
2019-08-29 22:25:56.715 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-29 22:25:56.717 +02:00 [DBG] Start parsing for secret in post body
2019-08-29 22:25:56.720 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-29 22:25:56.721 +02:00 [DBG] Secret id found: ro.time_tracking
2019-08-29 22:25:56.733 +02:00 [DBG] ro.time_tracking found in database: true
2019-08-29 22:25:56.735 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-08-29 22:25:56.741 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-08-29 22:25:56.741 +02:00 [DBG] Client validation success
2019-08-29 22:25:56.743 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPCK81CBBMU:00000001","TimeStamp":"2019-08-29T20:25:56.0000000Z","ProcessId":2380,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-08-29 22:25:56.752 +02:00 [DBG] Start token request validation
2019-08-29 22:25:56.754 +02:00 [DBG] Start resource owner password token request validation
2019-08-29 22:25:56.758 +02:00 [DBG] Found [] identity scopes in database
2019-08-29 22:25:56.764 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-29 22:25:56.769 +02:00 [DBG] Found [] identity scopes in database
2019-08-29 22:25:56.776 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-29 22:25:56.790 +02:00 [INF] Credentials validated for username: alice
2019-08-29 22:25:56.791 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPCK81CBBMU:00000001","TimeStamp":"2019-08-29T20:25:56.0000000Z","ProcessId":2380,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-29 22:25:56.807 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPCK81CBBMU:00000001","TimeStamp":"2019-08-29T20:25:56.0000000Z","ProcessId":2380,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-29 22:25:56.818 +02:00 [DBG] Resource owner password token request validation success.
2019-08-29 22:25:56.820 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-08-29 22:25:56.825 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-08-29 22:25:56.826 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-08-29 22:25:56.843 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****NBvA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPCK81CBBMU:00000001","TimeStamp":"2019-08-29T20:25:56.0000000Z","ProcessId":2380,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-08-29 22:25:56.856 +02:00 [DBG] Token request success.
2019-08-29 22:26:19.768 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-08-29 22:26:19.771 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-08-29 22:26:19.774 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-08-29 22:26:19.778 +02:00 [DBG] Start discovery request
2019-08-29 22:26:19.790 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-08-29 22:26:19.839 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-08-29 22:26:19.842 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-08-29 22:26:19.846 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-08-29 22:26:19.850 +02:00 [DBG] Start key discovery request
2019-08-29 22:29:23.889 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-29 22:29:23.893 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-29 22:29:23.896 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-29 22:29:23.899 +02:00 [DBG] Start token request.
2019-08-29 22:29:23.900 +02:00 [DBG] Start client validation
2019-08-29 22:29:23.904 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-29 22:29:23.905 +02:00 [DBG] Start parsing for secret in post body
2019-08-29 22:29:23.906 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-29 22:29:23.907 +02:00 [DBG] Secret id found: ro.time_tracking
2019-08-29 22:29:23.915 +02:00 [DBG] ro.time_tracking found in database: true
2019-08-29 22:29:23.916 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-08-29 22:29:23.922 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-08-29 22:29:23.923 +02:00 [DBG] Client validation success
2019-08-29 22:29:23.926 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPCK81CBBN1:00000001","TimeStamp":"2019-08-29T20:29:23.0000000Z","ProcessId":2380,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-08-29 22:29:23.931 +02:00 [DBG] Start token request validation
2019-08-29 22:29:23.932 +02:00 [DBG] Start resource owner password token request validation
2019-08-29 22:29:23.936 +02:00 [DBG] Found [] identity scopes in database
2019-08-29 22:29:23.941 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-29 22:29:23.945 +02:00 [DBG] Found [] identity scopes in database
2019-08-29 22:29:23.954 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-29 22:29:23.978 +02:00 [INF] Credentials validated for username: alice
2019-08-29 22:29:23.983 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPCK81CBBN1:00000001","TimeStamp":"2019-08-29T20:29:23.0000000Z","ProcessId":2380,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-29 22:29:23.991 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPCK81CBBN1:00000001","TimeStamp":"2019-08-29T20:29:23.0000000Z","ProcessId":2380,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-29 22:29:24.004 +02:00 [DBG] Resource owner password token request validation success.
2019-08-29 22:29:24.006 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-08-29 22:29:24.016 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-08-29 22:29:24.018 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-08-29 22:29:24.028 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****zXcg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPCK81CBBN1:00000001","TimeStamp":"2019-08-29T20:29:24.0000000Z","ProcessId":2380,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-08-29 22:29:24.037 +02:00 [DBG] Token request success.
2019-08-29 22:29:45.175 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-08-29 22:29:45.178 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-08-29 22:29:45.182 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-08-29 22:29:45.186 +02:00 [DBG] Start discovery request
2019-08-29 22:29:45.195 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-08-29 22:29:45.240 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-08-29 22:29:45.243 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-08-29 22:29:45.246 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-08-29 22:29:45.248 +02:00 [DBG] Start key discovery request
2019-08-29 22:45:18.883 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-29 22:45:18.889 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-29 22:45:18.894 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-29 22:45:18.901 +02:00 [DBG] Start token request.
2019-08-29 22:45:18.903 +02:00 [DBG] Start client validation
2019-08-29 22:45:18.911 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-29 22:45:18.916 +02:00 [DBG] Start parsing for secret in post body
2019-08-29 22:45:18.920 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-29 22:45:18.923 +02:00 [DBG] Secret id found: ro.time_tracking
2019-08-29 22:45:18.931 +02:00 [DBG] ro.time_tracking found in database: true
2019-08-29 22:45:18.932 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-08-29 22:45:18.934 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-08-29 22:45:18.937 +02:00 [DBG] Client validation success
2019-08-29 22:45:18.939 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPCK81CBBN4:00000001","TimeStamp":"2019-08-29T20:45:18.0000000Z","ProcessId":2380,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-08-29 22:45:18.944 +02:00 [DBG] Start token request validation
2019-08-29 22:45:18.945 +02:00 [DBG] Start resource owner password token request validation
2019-08-29 22:45:18.952 +02:00 [DBG] Found [] identity scopes in database
2019-08-29 22:45:18.962 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-29 22:45:18.967 +02:00 [DBG] Found [] identity scopes in database
2019-08-29 22:45:18.982 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-29 22:45:18.996 +02:00 [INF] Credentials validated for username: alice
2019-08-29 22:45:18.998 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPCK81CBBN4:00000001","TimeStamp":"2019-08-29T20:45:18.0000000Z","ProcessId":2380,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-29 22:45:19.021 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPCK81CBBN4:00000001","TimeStamp":"2019-08-29T20:45:19.0000000Z","ProcessId":2380,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-08-29 22:45:19.043 +02:00 [DBG] Resource owner password token request validation success.
2019-08-29 22:45:19.044 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-08-29 22:45:19.057 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-08-29 22:45:19.059 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-08-29 22:45:19.072 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****Yb8w","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPCK81CBBN4:00000001","TimeStamp":"2019-08-29T20:45:19.0000000Z","ProcessId":2380,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-08-29 22:45:19.080 +02:00 [DBG] Token request success.
2019-08-29 22:45:30.836 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-08-29 22:45:30.842 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-08-29 22:45:30.845 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-08-29 22:45:30.847 +02:00 [DBG] Start discovery request
2019-08-29 22:45:30.857 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-08-29 22:45:30.910 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-08-29 22:45:30.914 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-08-29 22:45:30.916 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-08-29 22:45:30.919 +02:00 [DBG] Start key discovery request
2019-08-29 22:46:48.350 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-08-29 22:46:48.351 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-08-29 22:46:48.356 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-08-29 22:46:48.361 +02:00 [DBG] Start discovery request
2019-08-29 22:46:48.372 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-08-29 22:46:48.432 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-08-29 22:46:48.436 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-08-29 22:46:48.440 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-08-29 22:46:48.443 +02:00 [DBG] Start key discovery request
2019-08-29 23:10:49.253 +02:00 [DBG] TaskCanceledException. Exiting.
2019-08-29 23:10:49.266 +02:00 [DBG] Stopping grant removal
2019-08-30 18:36:08.335 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-08-30 18:36:08.531 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-08-30 18:36:08.534 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-08-30 18:36:08.539 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-08-30 18:36:08.541 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-08-30 18:36:08.544 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-08-30 18:36:08.549 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-08-30 18:36:08.689 +02:00 [DBG] Starting grant removal
2019-08-30 18:36:13.140 +02:00 [DBG] Login Url: /Account/Login
2019-08-30 18:36:13.144 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-08-30 18:36:13.159 +02:00 [DBG] Logout Url: /Account/Logout
2019-08-30 18:36:13.161 +02:00 [DBG] ConsentUrl Url: /consent
2019-08-30 18:36:13.164 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-08-30 18:36:13.165 +02:00 [DBG] Error Url: /home/error
2019-08-30 18:36:13.168 +02:00 [DBG] Error Id Parameter: errorId
2019-08-30 18:36:13.197 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-08-30 18:36:13.243 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-08-30 18:36:13.247 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-08-30 18:36:13.259 +02:00 [DBG] Start token request.
2019-08-30 18:36:13.268 +02:00 [DBG] Start client validation
2019-08-30 18:36:13.277 +02:00 [DBG] Start parsing Basic Authentication secret
2019-08-30 18:36:13.283 +02:00 [DBG] Start parsing for secret in post body
2019-08-30 18:36:13.310 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-08-30 18:36:13.310 +02:00 [DBG] Secret id found: ro.time_tracking
2019-08-30 18:36:14.349 +02:00 [DBG] ro.time_tracking found in database: true
2019-08-30 18:36:14.362 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-08-30 18:36:14.377 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-08-30 18:36:14.378 +02:00 [DBG] Client validation success
2019-08-30 18:36:14.396 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPDD0LS09VO:00000001","TimeStamp":"2019-08-30T16:36:14.0000000Z","ProcessId":11808,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-08-30 18:36:14.419 +02:00 [DBG] Start token request validation
2019-08-30 18:36:14.431 +02:00 [DBG] Start resource owner password token request validation
2019-08-30 18:36:14.483 +02:00 [DBG] Found [] identity scopes in database
2019-08-30 18:36:14.656 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-30 18:36:14.677 +02:00 [DBG] Found [] identity scopes in database
2019-08-30 18:36:14.686 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-08-30 18:36:14.768 +02:00 [INF] {"Details":"System.InvalidOperationException: No database provider has been configured for this DbContext. A provider can be configured by overriding the DbContext.OnConfiguring method or by using AddDbContext on the application service provider. If AddDbContext is used, then also ensure that your DbContext type accepts a DbContextOptions<TContext> object in its constructor and passes it to the base constructor for DbContext.\r\n   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.Initialize(IServiceProvider scopedProvider, IDbContextOptions contextOptions, DbContext context)\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()\r\n   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()\r\n   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_UsersSet()\r\n   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_Users()\r\n   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 412\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 147\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 134\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"No database provider has been configured for this DbContext. A provider can be configured by overriding the DbContext.OnConfiguring method or by using AddDbContext on the application service provider. If AddDbContext is used, then also ensure that your DbContext type accepts a DbContextOptions<TContext> object in its constructor and passes it to the base constructor for DbContext.","ActivityId":"0HLPDD0LS09VO:00000001","TimeStamp":"2019-08-30T16:36:14.0000000Z","ProcessId":11808,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-08-30 18:36:14.789 +02:00 [FTL] Unhandled exception: No database provider has been configured for this DbContext. A provider can be configured by overriding the DbContext.OnConfiguring method or by using AddDbContext on the application service provider. If AddDbContext is used, then also ensure that your DbContext type accepts a DbContextOptions<TContext> object in its constructor and passes it to the base constructor for DbContext.
System.InvalidOperationException: No database provider has been configured for this DbContext. A provider can be configured by overriding the DbContext.OnConfiguring method or by using AddDbContext on the application service provider. If AddDbContext is used, then also ensure that your DbContext type accepts a DbContextOptions<TContext> object in its constructor and passes it to the base constructor for DbContext.
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.Initialize(IServiceProvider scopedProvider, IDbContextOptions contextOptions, DbContext context)
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_UsersSet()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_Users()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 412
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 147
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 134
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-08-30 18:36:14.808 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No database provider has been configured for this DbContext. A provider can be configured by overriding the DbContext.OnConfiguring method or by using AddDbContext on the application service provider. If AddDbContext is used, then also ensure that your DbContext type accepts a DbContextOptions<TContext> object in its constructor and passes it to the base constructor for DbContext.
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.Initialize(IServiceProvider scopedProvider, IDbContextOptions contextOptions, DbContext context)
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_UsersSet()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_Users()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 412
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 147
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 134
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-08-30 18:38:27.320 +02:00 [DBG] TaskCanceledException. Exiting.
2019-08-30 18:38:27.333 +02:00 [DBG] Stopping grant removal
2019-08-30 23:31:41.540 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-08-30 23:31:46.317 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-08-30 23:31:46.317 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-08-30 23:31:46.317 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-08-30 23:31:46.318 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-08-30 23:31:46.318 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-08-30 23:31:46.318 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-08-30 23:31:46.539 +02:00 [DBG] Starting grant removal
2019-08-30 23:31:53.581 +02:00 [DBG] Login Url: /Account/Login
2019-08-30 23:31:53.582 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-08-30 23:31:53.582 +02:00 [DBG] Logout Url: /Account/Logout
2019-08-30 23:31:53.582 +02:00 [DBG] ConsentUrl Url: /consent
2019-08-30 23:31:53.582 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-08-30 23:31:53.582 +02:00 [DBG] Error Url: /home/error
2019-08-30 23:31:53.582 +02:00 [DBG] Error Id Parameter: errorId
2019-08-30 23:45:59.394 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-08-30 23:49:04.378 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-08-30 23:49:04.482 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-08-30 23:49:04.482 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-08-30 23:49:04.482 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-08-30 23:49:04.482 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-08-30 23:49:04.483 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-08-30 23:49:04.483 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-08-30 23:49:04.575 +02:00 [DBG] Starting grant removal
2019-08-30 23:49:04.898 +02:00 [DBG] Login Url: /Account/Login
2019-08-30 23:49:04.900 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-08-30 23:49:04.900 +02:00 [DBG] Logout Url: /Account/Logout
2019-08-30 23:49:04.900 +02:00 [DBG] ConsentUrl Url: /consent
2019-08-30 23:49:04.900 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-08-30 23:49:04.900 +02:00 [DBG] Error Url: /home/error
2019-08-30 23:49:04.900 +02:00 [DBG] Error Id Parameter: errorId
2019-08-30 23:50:19.034 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-08-30 23:50:41.164 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-08-30 23:50:41.164 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-08-30 23:50:41.164 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-08-30 23:50:41.164 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-08-30 23:50:41.164 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-08-30 23:50:41.165 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-08-30 23:50:41.374 +02:00 [DBG] Starting grant removal
2019-09-01 12:39:33.596 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-09-01 12:39:33.720 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-01 12:39:33.721 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-01 12:39:33.721 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-01 12:39:33.721 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-01 12:39:33.722 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-01 12:39:33.722 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-01 12:39:33.853 +02:00 [WRN] Unable to bind to http://localhost:5000 on the IPv4 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-09-01 12:39:33.858 +02:00 [WRN] Unable to bind to http://localhost:5000 on the IPv6 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-09-01 12:39:33.860 +02:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address http://localhost:5000. ---> System.AggregateException: One or more errors occurred. (An attempt was made to access a socket in a way forbidden by its access permissions) (An attempt was made to access a socket in a way forbidden by its access permissions) ---> System.Net.Sockets.SocketException: An attempt was made to access a socket in a way forbidden by its access permissions
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransport.BindAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2019-09-01 12:39:33.915 +02:00 [FTL] An error occurred stopping the application
System.AggregateException: One or more errors occurred. (Not started. Call Start first.) ---> System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.StopAsync(CancellationToken token)
---> (Inner Exception #0) System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)<---

2019-09-01 12:40:04.432 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-09-01 12:40:04.541 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-01 12:40:04.541 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-01 12:40:04.542 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-01 12:40:04.542 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-01 12:40:04.543 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-01 12:40:04.543 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-01 12:40:04.635 +02:00 [DBG] Starting grant removal
2019-09-01 12:40:16.847 +02:00 [DBG] Login Url: /Account/Login
2019-09-01 12:40:16.849 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-01 12:40:16.855 +02:00 [DBG] Logout Url: /Account/Logout
2019-09-01 12:40:16.857 +02:00 [DBG] ConsentUrl Url: /consent
2019-09-01 12:40:16.858 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-01 12:40:16.859 +02:00 [DBG] Error Url: /home/error
2019-09-01 12:40:16.862 +02:00 [DBG] Error Id Parameter: errorId
2019-09-01 12:40:16.883 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-01 12:40:16.922 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-01 12:40:16.924 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-01 12:40:16.934 +02:00 [DBG] Start token request.
2019-09-01 12:40:16.942 +02:00 [DBG] Start client validation
2019-09-01 12:40:16.948 +02:00 [DBG] Start parsing Basic Authentication secret
2019-09-01 12:40:16.954 +02:00 [DBG] Start parsing for secret in post body
2019-09-01 12:40:16.976 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-01 12:40:16.977 +02:00 [DBG] Secret id found: ro.time_tracking
2019-09-01 12:40:17.955 +02:00 [DBG] ro.time_tracking found in database: true
2019-09-01 12:40:17.969 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-09-01 12:40:17.984 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-01 12:40:17.984 +02:00 [DBG] Client validation success
2019-09-01 12:40:18.002 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPEP33JLH2E:00000001","TimeStamp":"2019-09-01T10:40:17.0000000Z","ProcessId":36604,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-01 12:40:18.026 +02:00 [DBG] Start token request validation
2019-09-01 12:40:18.044 +02:00 [DBG] Start resource owner password token request validation
2019-09-01 12:40:18.099 +02:00 [DBG] Found [] identity scopes in database
2019-09-01 12:40:18.255 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-09-01 12:40:18.273 +02:00 [DBG] Found [] identity scopes in database
2019-09-01 12:40:18.280 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-09-01 12:40:18.412 +02:00 [INF] Credentials validated for username: alice
2019-09-01 12:40:18.415 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPEP33JLH2E:00000001","TimeStamp":"2019-09-01T10:40:18.0000000Z","ProcessId":36604,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-01 12:40:18.432 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPEP33JLH2E:00000001","TimeStamp":"2019-09-01T10:40:18.0000000Z","ProcessId":36604,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-01 12:40:18.442 +02:00 [DBG] Resource owner password token request validation success.
2019-09-01 12:40:18.449 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-01 12:40:18.480 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-09-01 12:40:18.480 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-09-01 12:40:18.626 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****tHZA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPEP33JLH2E:00000001","TimeStamp":"2019-09-01T10:40:18.0000000Z","ProcessId":36604,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-01 12:40:18.640 +02:00 [DBG] Token request success.
2019-09-01 12:40:42.764 +02:00 [DBG] TaskCanceledException. Exiting.
2019-09-01 12:40:42.778 +02:00 [DBG] Stopping grant removal
2019-09-01 12:43:27.837 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-09-01 12:43:27.954 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-01 12:43:27.956 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-01 12:43:27.956 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-01 12:43:27.956 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-01 12:43:27.957 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-01 12:43:27.957 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-01 12:43:28.044 +02:00 [DBG] Starting grant removal
2019-09-01 12:43:58.544 +02:00 [DBG] Login Url: /Account/Login
2019-09-01 12:43:58.547 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-01 12:43:58.549 +02:00 [DBG] Logout Url: /Account/Logout
2019-09-01 12:43:58.550 +02:00 [DBG] ConsentUrl Url: /consent
2019-09-01 12:43:58.553 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-01 12:43:58.555 +02:00 [DBG] Error Url: /home/error
2019-09-01 12:43:58.556 +02:00 [DBG] Error Id Parameter: errorId
2019-09-01 12:43:58.580 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-01 12:43:58.635 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-01 12:43:58.646 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-01 12:43:58.666 +02:00 [DBG] Start token request.
2019-09-01 12:43:58.677 +02:00 [DBG] Start client validation
2019-09-01 12:43:58.683 +02:00 [DBG] Start parsing Basic Authentication secret
2019-09-01 12:43:58.691 +02:00 [DBG] Start parsing for secret in post body
2019-09-01 12:43:58.715 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-01 12:43:58.716 +02:00 [DBG] Secret id found: ro.time_tracking
2019-09-01 12:43:59.700 +02:00 [DBG] ro.time_tracking found in database: true
2019-09-01 12:43:59.715 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-09-01 12:43:59.730 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-01 12:43:59.730 +02:00 [DBG] Client validation success
2019-09-01 12:43:59.753 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPEP55M4CF7:00000001","TimeStamp":"2019-09-01T10:43:59.0000000Z","ProcessId":11032,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-01 12:43:59.776 +02:00 [DBG] Start token request validation
2019-09-01 12:43:59.790 +02:00 [DBG] Start resource owner password token request validation
2019-09-01 12:43:59.838 +02:00 [DBG] Found [] identity scopes in database
2019-09-01 12:44:00.021 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-09-01 12:44:00.044 +02:00 [DBG] Found [] identity scopes in database
2019-09-01 12:44:00.053 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-09-01 12:44:00.183 +02:00 [INF] Credentials validated for username: alice
2019-09-01 12:44:00.187 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPEP55M4CF7:00000001","TimeStamp":"2019-09-01T10:44:00.0000000Z","ProcessId":11032,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-01 12:44:00.205 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPEP55M4CF7:00000001","TimeStamp":"2019-09-01T10:44:00.0000000Z","ProcessId":11032,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-01 12:44:00.212 +02:00 [DBG] Resource owner password token request validation success.
2019-09-01 12:44:00.221 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-01 12:44:00.258 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-09-01 12:44:00.259 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-09-01 12:44:00.397 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****Flxg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPEP55M4CF7:00000001","TimeStamp":"2019-09-01T10:44:00.0000000Z","ProcessId":11032,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-01 12:44:00.413 +02:00 [DBG] Token request success.
2019-09-01 12:44:22.936 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-01 12:44:22.958 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-01 12:44:22.960 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-01 12:44:22.967 +02:00 [DBG] Start discovery request
2019-09-01 12:44:23.080 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-09-01 12:44:23.139 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-01 12:44:23.152 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-01 12:44:23.155 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-01 12:44:23.161 +02:00 [DBG] Start key discovery request
2019-09-01 13:43:28.099 +02:00 [INF] Removing 0 grants
2019-09-01 14:43:28.114 +02:00 [INF] Removing 0 grants
2019-09-01 15:43:28.536 +02:00 [INF] Removing 0 grants
2019-09-01 16:43:28.549 +02:00 [INF] Removing 0 grants
2019-09-01 17:43:28.565 +02:00 [INF] Removing 0 grants
2019-09-01 18:43:28.578 +02:00 [INF] Removing 0 grants
2019-09-01 19:43:28.707 +02:00 [INF] Removing 0 grants
2019-09-01 20:43:28.726 +02:00 [INF] Removing 0 grants
2019-09-01 21:43:29.070 +02:00 [INF] Removing 0 grants
2019-09-01 22:43:29.095 +02:00 [INF] Removing 0 grants
2019-09-01 23:32:34.196 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-01 23:32:34.217 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-01 23:32:34.220 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-01 23:32:34.225 +02:00 [DBG] Start token request.
2019-09-01 23:32:34.227 +02:00 [DBG] Start client validation
2019-09-01 23:32:34.229 +02:00 [DBG] Start parsing Basic Authentication secret
2019-09-01 23:32:34.234 +02:00 [DBG] Start parsing for secret in post body
2019-09-01 23:32:34.238 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-01 23:32:34.239 +02:00 [DBG] Secret id found: ro.time_tracking
2019-09-01 23:32:34.258 +02:00 [DBG] ro.time_tracking found in database: true
2019-09-01 23:32:34.261 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-09-01 23:32:34.270 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-01 23:32:34.272 +02:00 [DBG] Client validation success
2019-09-01 23:32:34.276 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPEP55M4CFA:00000001","TimeStamp":"2019-09-01T21:32:34.0000000Z","ProcessId":11032,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-01 23:32:34.286 +02:00 [DBG] Start token request validation
2019-09-01 23:32:34.287 +02:00 [DBG] Start resource owner password token request validation
2019-09-01 23:32:34.297 +02:00 [DBG] Found [] identity scopes in database
2019-09-01 23:32:34.309 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-09-01 23:32:34.317 +02:00 [DBG] Found [] identity scopes in database
2019-09-01 23:32:34.324 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-09-01 23:32:34.347 +02:00 [INF] Credentials validated for username: alice
2019-09-01 23:32:34.351 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPEP55M4CFA:00000001","TimeStamp":"2019-09-01T21:32:34.0000000Z","ProcessId":11032,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-01 23:32:34.369 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPEP55M4CFA:00000001","TimeStamp":"2019-09-01T21:32:34.0000000Z","ProcessId":11032,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-01 23:32:34.378 +02:00 [DBG] Resource owner password token request validation success.
2019-09-01 23:32:34.382 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-01 23:32:34.390 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-09-01 23:32:34.393 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-09-01 23:32:34.413 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****pQ6g","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPEP55M4CFA:00000001","TimeStamp":"2019-09-01T21:32:34.0000000Z","ProcessId":11032,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-01 23:32:34.432 +02:00 [DBG] Token request success.
2019-09-01 23:32:57.455 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-01 23:32:57.469 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-01 23:32:57.473 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-01 23:32:57.475 +02:00 [DBG] Start discovery request
2019-09-01 23:32:57.484 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-09-01 23:32:57.558 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-01 23:32:57.569 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-01 23:32:57.576 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-01 23:32:57.579 +02:00 [DBG] Start key discovery request
2019-09-01 23:35:37.451 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-01 23:35:37.468 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-01 23:35:37.472 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-01 23:35:37.474 +02:00 [DBG] Start discovery request
2019-09-01 23:35:37.487 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-09-01 23:35:37.554 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-01 23:35:37.565 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-01 23:35:37.571 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-01 23:35:37.572 +02:00 [DBG] Start key discovery request
2019-09-01 23:43:29.119 +02:00 [INF] Removing 0 grants
2019-09-01 23:48:03.912 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-01 23:48:03.932 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-01 23:48:03.939 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-01 23:48:03.941 +02:00 [DBG] Start token request.
2019-09-01 23:48:03.942 +02:00 [DBG] Start client validation
2019-09-01 23:48:03.943 +02:00 [DBG] Start parsing Basic Authentication secret
2019-09-01 23:48:03.947 +02:00 [DBG] Start parsing for secret in post body
2019-09-01 23:48:03.950 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-01 23:48:03.953 +02:00 [DBG] Secret id found: ro.time_tracking
2019-09-01 23:48:03.959 +02:00 [DBG] ro.time_tracking found in database: true
2019-09-01 23:48:03.969 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-09-01 23:48:03.973 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-01 23:48:03.974 +02:00 [DBG] Client validation success
2019-09-01 23:48:03.975 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPEP55M4CFE:00000001","TimeStamp":"2019-09-01T21:48:03.0000000Z","ProcessId":11032,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-01 23:48:03.986 +02:00 [DBG] Start token request validation
2019-09-01 23:48:03.988 +02:00 [DBG] Start resource owner password token request validation
2019-09-01 23:48:04.000 +02:00 [DBG] Found [] identity scopes in database
2019-09-01 23:48:04.010 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-09-01 23:48:04.015 +02:00 [DBG] Found [] identity scopes in database
2019-09-01 23:48:04.026 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-09-01 23:48:04.039 +02:00 [INF] Credentials validated for username: alice
2019-09-01 23:48:04.043 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPEP55M4CFE:00000001","TimeStamp":"2019-09-01T21:48:04.0000000Z","ProcessId":11032,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-01 23:48:04.056 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPEP55M4CFE:00000001","TimeStamp":"2019-09-01T21:48:04.0000000Z","ProcessId":11032,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-01 23:48:04.065 +02:00 [DBG] Resource owner password token request validation success.
2019-09-01 23:48:04.067 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-01 23:48:04.078 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-09-01 23:48:04.080 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-09-01 23:48:04.090 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****DDKw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPEP55M4CFE:00000001","TimeStamp":"2019-09-01T21:48:04.0000000Z","ProcessId":11032,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-01 23:48:04.101 +02:00 [DBG] Token request success.
2019-09-01 23:51:06.951 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-01 23:51:06.967 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-01 23:51:06.974 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-01 23:51:06.982 +02:00 [DBG] Start discovery request
2019-09-01 23:51:06.996 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-09-01 23:51:07.067 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-01 23:51:07.089 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-01 23:51:07.096 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-01 23:51:07.098 +02:00 [DBG] Start key discovery request
2019-09-01 23:52:43.357 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-01 23:52:43.368 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-01 23:52:43.376 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-01 23:52:43.380 +02:00 [DBG] Start discovery request
2019-09-01 23:52:43.388 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-09-01 23:52:43.440 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-01 23:52:43.450 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-01 23:52:43.456 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-01 23:52:43.460 +02:00 [DBG] Start key discovery request
2019-09-01 23:58:54.556 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-01 23:58:54.580 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-01 23:58:54.584 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-01 23:58:54.586 +02:00 [DBG] Start discovery request
2019-09-01 23:58:54.592 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-09-01 23:58:54.646 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-01 23:58:54.664 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-01 23:58:54.671 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-01 23:58:54.676 +02:00 [DBG] Start key discovery request
2019-09-02 08:01:53.221 +02:00 [INF] Removing 0 grants
2019-09-02 09:01:53.269 +02:00 [INF] Removing 0 grants
2019-09-02 10:01:53.306 +02:00 [INF] Removing 0 grants
2019-09-02 11:01:53.324 +02:00 [INF] Removing 0 grants
2019-09-02 12:01:53.334 +02:00 [INF] Removing 0 grants
2019-09-02 13:01:53.346 +02:00 [INF] Removing 0 grants
2019-09-02 14:01:53.377 +02:00 [INF] Removing 0 grants
2019-09-02 15:01:53.411 +02:00 [INF] Removing 0 grants
2019-09-02 16:01:53.437 +02:00 [INF] Removing 0 grants
2019-09-02 17:01:53.452 +02:00 [INF] Removing 0 grants
2019-09-02 18:01:53.490 +02:00 [INF] Removing 0 grants
2019-09-02 19:01:53.516 +02:00 [INF] Removing 0 grants
2019-09-02 20:01:53.549 +02:00 [INF] Removing 0 grants
2019-09-02 21:01:53.570 +02:00 [INF] Removing 0 grants
2019-09-02 22:01:53.590 +02:00 [INF] Removing 0 grants
2019-09-02 23:03:15.852 +02:00 [INF] Removing 0 grants
2019-09-03 08:54:46.134 +02:00 [INF] Removing 0 grants
2019-09-03 09:54:46.162 +02:00 [INF] Removing 0 grants
2019-09-03 10:54:46.191 +02:00 [INF] Removing 0 grants
2019-09-03 11:54:46.225 +02:00 [INF] Removing 0 grants
2019-09-03 12:54:46.257 +02:00 [INF] Removing 0 grants
2019-09-03 13:31:37.742 +02:00 [DBG] TaskCanceledException. Exiting.
2019-09-03 13:31:37.809 +02:00 [DBG] Stopping grant removal
2019-09-03 17:49:19.289 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-09-03 17:49:19.479 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-03 17:49:19.480 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-03 17:49:19.481 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-03 17:49:19.481 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-03 17:49:19.481 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-03 17:49:19.482 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-03 17:49:19.639 +02:00 [DBG] Starting grant removal
2019-09-03 17:49:46.254 +02:00 [DBG] Login Url: /Account/Login
2019-09-03 17:49:46.256 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-03 17:49:46.258 +02:00 [DBG] Logout Url: /Account/Logout
2019-09-03 17:49:46.262 +02:00 [DBG] ConsentUrl Url: /consent
2019-09-03 17:49:46.263 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-03 17:49:46.266 +02:00 [DBG] Error Url: /home/error
2019-09-03 17:49:46.269 +02:00 [DBG] Error Id Parameter: errorId
2019-09-03 17:49:46.296 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-03 17:49:46.323 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-03 17:49:46.324 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-03 17:49:46.337 +02:00 [DBG] Start token request.
2019-09-03 17:49:46.346 +02:00 [DBG] Start client validation
2019-09-03 17:49:46.352 +02:00 [DBG] Start parsing Basic Authentication secret
2019-09-03 17:49:46.356 +02:00 [DBG] Start parsing for secret in post body
2019-09-03 17:49:46.380 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-03 17:49:46.381 +02:00 [DBG] Secret id found: ro.time_tracking
2019-09-03 17:49:47.455 +02:00 [DBG] ro.time_tracking found in database: true
2019-09-03 17:49:47.472 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-09-03 17:49:47.484 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-03 17:49:47.485 +02:00 [DBG] Client validation success
2019-09-03 17:49:47.504 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPGGPC4J382:00000001","TimeStamp":"2019-09-03T15:49:47.0000000Z","ProcessId":37504,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-03 17:49:47.526 +02:00 [DBG] Start token request validation
2019-09-03 17:49:47.539 +02:00 [DBG] Start resource owner password token request validation
2019-09-03 17:49:47.591 +02:00 [DBG] Found [] identity scopes in database
2019-09-03 17:49:47.788 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-09-03 17:49:47.807 +02:00 [DBG] Found [] identity scopes in database
2019-09-03 17:49:47.817 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-09-03 17:49:47.992 +02:00 [INF] Credentials validated for username: alice
2019-09-03 17:49:47.998 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPGGPC4J382:00000001","TimeStamp":"2019-09-03T15:49:47.0000000Z","ProcessId":37504,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-03 17:49:48.015 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPGGPC4J382:00000001","TimeStamp":"2019-09-03T15:49:48.0000000Z","ProcessId":37504,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-03 17:49:48.020 +02:00 [DBG] Resource owner password token request validation success.
2019-09-03 17:49:48.029 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-03 17:49:48.060 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-09-03 17:49:48.062 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-09-03 17:49:48.217 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****NRVA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPGGPC4J382:00000001","TimeStamp":"2019-09-03T15:49:48.0000000Z","ProcessId":37504,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-03 17:49:48.224 +02:00 [DBG] Token request success.
2019-09-03 17:50:57.904 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-03 17:50:57.916 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-03 17:50:57.919 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-03 17:50:57.925 +02:00 [DBG] Start discovery request
2019-09-03 17:50:58.064 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-09-03 17:50:58.132 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-03 17:50:58.137 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-03 17:50:58.138 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-03 17:50:58.143 +02:00 [DBG] Start key discovery request
2019-09-03 18:22:26.100 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-03 18:22:26.115 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-03 18:22:26.117 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-03 18:22:26.119 +02:00 [DBG] Start token request.
2019-09-03 18:22:26.120 +02:00 [DBG] Start client validation
2019-09-03 18:22:26.121 +02:00 [DBG] Start parsing Basic Authentication secret
2019-09-03 18:22:26.122 +02:00 [DBG] Start parsing for secret in post body
2019-09-03 18:22:26.125 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-03 18:22:26.130 +02:00 [DBG] Secret id found: ro.time_tracking
2019-09-03 18:22:26.139 +02:00 [DBG] ro.time_tracking found in database: true
2019-09-03 18:22:26.141 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-09-03 18:22:26.148 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-03 18:22:26.151 +02:00 [DBG] Client validation success
2019-09-03 18:22:26.153 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPGGPC4J385:00000001","TimeStamp":"2019-09-03T16:22:26.0000000Z","ProcessId":37504,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-03 18:22:26.156 +02:00 [DBG] Start token request validation
2019-09-03 18:22:26.159 +02:00 [DBG] Start resource owner password token request validation
2019-09-03 18:22:26.165 +02:00 [DBG] Found [] identity scopes in database
2019-09-03 18:22:26.171 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-09-03 18:22:26.176 +02:00 [DBG] Found [] identity scopes in database
2019-09-03 18:22:26.181 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-09-03 18:22:26.197 +02:00 [INF] Credentials validated for username: alice
2019-09-03 18:22:26.203 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPGGPC4J385:00000001","TimeStamp":"2019-09-03T16:22:26.0000000Z","ProcessId":37504,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-03 18:22:26.218 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPGGPC4J385:00000001","TimeStamp":"2019-09-03T16:22:26.0000000Z","ProcessId":37504,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-03 18:22:26.236 +02:00 [DBG] Resource owner password token request validation success.
2019-09-03 18:22:26.242 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-03 18:22:26.264 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-09-03 18:22:26.264 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-09-03 18:22:26.273 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****z8DQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPGGPC4J385:00000001","TimeStamp":"2019-09-03T16:22:26.0000000Z","ProcessId":37504,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-03 18:22:26.283 +02:00 [DBG] Token request success.
2019-09-03 18:22:38.514 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-03 18:22:38.528 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-03 18:22:38.530 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-03 18:22:38.532 +02:00 [DBG] Start discovery request
2019-09-03 18:22:38.539 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-09-03 18:22:38.590 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-03 18:22:38.597 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-03 18:22:38.599 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-03 18:22:38.604 +02:00 [DBG] Start key discovery request
2019-09-03 18:49:19.713 +02:00 [INF] Removing 0 grants
2019-09-03 19:00:38.463 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-03 19:00:38.489 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-03 19:00:38.491 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-03 19:00:38.493 +02:00 [DBG] Start token request.
2019-09-03 19:00:38.494 +02:00 [DBG] Start client validation
2019-09-03 19:00:38.495 +02:00 [DBG] Start parsing Basic Authentication secret
2019-09-03 19:00:38.496 +02:00 [DBG] Start parsing for secret in post body
2019-09-03 19:00:38.497 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-03 19:00:38.501 +02:00 [DBG] Secret id found: ro.time_tracking
2019-09-03 19:00:38.508 +02:00 [DBG] ro.time_tracking found in database: true
2019-09-03 19:00:38.512 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-09-03 19:00:38.516 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-03 19:00:38.520 +02:00 [DBG] Client validation success
2019-09-03 19:00:38.523 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPGGPC4J388:00000001","TimeStamp":"2019-09-03T17:00:38.0000000Z","ProcessId":37504,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-03 19:00:38.526 +02:00 [DBG] Start token request validation
2019-09-03 19:00:38.527 +02:00 [DBG] Start resource owner password token request validation
2019-09-03 19:00:38.529 +02:00 [DBG] Found [] identity scopes in database
2019-09-03 19:00:38.540 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-09-03 19:00:38.547 +02:00 [DBG] Found [] identity scopes in database
2019-09-03 19:00:38.561 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-09-03 19:00:38.582 +02:00 [INF] Credentials validated for username: alice
2019-09-03 19:00:38.591 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPGGPC4J388:00000001","TimeStamp":"2019-09-03T17:00:38.0000000Z","ProcessId":37504,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-03 19:00:38.596 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPGGPC4J388:00000001","TimeStamp":"2019-09-03T17:00:38.0000000Z","ProcessId":37504,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-03 19:00:38.599 +02:00 [DBG] Resource owner password token request validation success.
2019-09-03 19:00:38.600 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-03 19:00:38.612 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-09-03 19:00:38.613 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-09-03 19:00:38.624 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****cLjA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPGGPC4J388:00000001","TimeStamp":"2019-09-03T17:00:38.0000000Z","ProcessId":37504,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-03 19:00:38.628 +02:00 [DBG] Token request success.
2019-09-03 19:00:58.825 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-03 19:00:58.833 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-03 19:00:58.835 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-03 19:00:58.837 +02:00 [DBG] Start discovery request
2019-09-03 19:00:58.845 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-09-03 19:00:58.899 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-03 19:00:58.913 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-03 19:00:58.914 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-03 19:00:58.916 +02:00 [DBG] Start key discovery request
2019-09-03 19:53:08.114 +02:00 [INF] Removing 0 grants
2019-09-03 20:53:08.123 +02:00 [INF] Removing 0 grants
2019-09-03 21:53:08.137 +02:00 [INF] Removing 0 grants
2019-09-03 22:38:37.445 +02:00 [DBG] TaskCanceledException. Exiting.
2019-09-03 22:38:37.462 +02:00 [DBG] Stopping grant removal
2019-09-03 22:44:53.988 +02:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-09-03 22:44:54.118 +02:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-03 22:44:54.121 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-03 22:44:54.124 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-03 22:44:54.124 +02:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-03 22:44:54.126 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-03 22:44:54.131 +02:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-03 22:44:54.221 +02:00 [DBG] Starting grant removal
2019-09-03 22:45:01.774 +02:00 [DBG] Login Url: /Account/Login
2019-09-03 22:45:01.776 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-03 22:45:01.780 +02:00 [DBG] Logout Url: /Account/Logout
2019-09-03 22:45:01.782 +02:00 [DBG] ConsentUrl Url: /consent
2019-09-03 22:45:01.787 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-03 22:45:01.789 +02:00 [DBG] Error Url: /home/error
2019-09-03 22:45:01.789 +02:00 [DBG] Error Id Parameter: errorId
2019-09-03 22:45:01.819 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-03 22:45:01.854 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-03 22:45:01.856 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-03 22:45:01.867 +02:00 [DBG] Start token request.
2019-09-03 22:45:01.874 +02:00 [DBG] Start client validation
2019-09-03 22:45:01.885 +02:00 [DBG] Start parsing Basic Authentication secret
2019-09-03 22:45:01.890 +02:00 [DBG] Start parsing for secret in post body
2019-09-03 22:45:01.917 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-03 22:45:01.917 +02:00 [DBG] Secret id found: ro.time_tracking
2019-09-03 22:45:02.933 +02:00 [DBG] ro.time_tracking found in database: true
2019-09-03 22:45:02.948 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-09-03 22:45:02.965 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-03 22:45:02.966 +02:00 [DBG] Client validation success
2019-09-03 22:45:02.984 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPGLUBP2V9I:00000001","TimeStamp":"2019-09-03T20:45:02.0000000Z","ProcessId":26044,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-03 22:45:03.003 +02:00 [DBG] Start token request validation
2019-09-03 22:45:03.020 +02:00 [DBG] Start resource owner password token request validation
2019-09-03 22:45:03.068 +02:00 [DBG] Found [] identity scopes in database
2019-09-03 22:45:03.220 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-09-03 22:45:03.242 +02:00 [DBG] Found [] identity scopes in database
2019-09-03 22:45:03.253 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-09-03 22:45:03.384 +02:00 [INF] Credentials validated for username: alice
2019-09-03 22:45:03.387 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPGLUBP2V9I:00000001","TimeStamp":"2019-09-03T20:45:03.0000000Z","ProcessId":26044,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-03 22:45:03.400 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPGLUBP2V9I:00000001","TimeStamp":"2019-09-03T20:45:03.0000000Z","ProcessId":26044,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-03 22:45:03.404 +02:00 [DBG] Resource owner password token request validation success.
2019-09-03 22:45:03.412 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-03 22:45:03.449 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-09-03 22:45:03.450 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-09-03 22:45:03.587 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****lWGw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPGLUBP2V9I:00000001","TimeStamp":"2019-09-03T20:45:03.0000000Z","ProcessId":26044,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-03 22:45:03.600 +02:00 [DBG] Token request success.
2019-09-03 22:45:27.808 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-03 22:45:27.818 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-03 22:45:27.819 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-03 22:45:27.826 +02:00 [DBG] Start discovery request
2019-09-03 22:45:27.966 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-09-03 22:45:28.032 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-03 22:45:28.039 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-03 22:45:28.040 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-03 22:45:28.047 +02:00 [DBG] Start key discovery request
2019-09-03 22:49:09.736 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-03 22:49:09.756 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-03 22:49:09.758 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-03 22:49:09.759 +02:00 [DBG] Start discovery request
2019-09-03 22:49:09.771 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-09-03 22:49:09.820 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-03 22:49:09.826 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-03 22:49:09.827 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-03 22:49:09.828 +02:00 [DBG] Start key discovery request
2019-09-03 22:52:15.070 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-03 22:52:15.079 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-03 22:52:15.081 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-03 22:52:15.087 +02:00 [DBG] Start discovery request
2019-09-03 22:52:15.093 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-09-03 22:52:15.138 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-03 22:52:15.145 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-03 22:52:15.147 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-03 22:52:15.148 +02:00 [DBG] Start key discovery request
2019-09-03 22:55:15.501 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-03 22:55:15.509 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-03 22:55:15.511 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-03 22:55:15.515 +02:00 [DBG] Start discovery request
2019-09-03 22:55:15.524 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-09-03 22:55:15.583 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-03 22:55:15.593 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-03 22:55:15.597 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-03 22:55:15.602 +02:00 [DBG] Start key discovery request
2019-09-03 22:59:07.793 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-03 22:59:07.802 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-03 22:59:07.806 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-03 22:59:07.808 +02:00 [DBG] Start discovery request
2019-09-03 22:59:07.813 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-09-03 22:59:07.863 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-03 22:59:07.885 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-03 22:59:07.892 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-03 22:59:07.899 +02:00 [DBG] Start key discovery request
2019-09-03 23:05:59.310 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-03 23:05:59.318 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-03 23:05:59.319 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-03 23:05:59.321 +02:00 [DBG] Start discovery request
2019-09-03 23:05:59.333 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-09-03 23:05:59.395 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-03 23:05:59.402 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-03 23:05:59.403 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-03 23:05:59.405 +02:00 [DBG] Start key discovery request
2019-09-03 23:10:36.325 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-03 23:10:36.338 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-03 23:10:36.342 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-03 23:10:36.343 +02:00 [DBG] Start discovery request
2019-09-03 23:10:36.354 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-09-03 23:10:36.414 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-03 23:10:36.419 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-03 23:10:36.421 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-03 23:10:36.426 +02:00 [DBG] Start key discovery request
2019-09-03 23:25:25.100 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-03 23:25:25.110 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-03 23:25:25.112 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-03 23:25:25.117 +02:00 [DBG] Start token request.
2019-09-03 23:25:25.118 +02:00 [DBG] Start client validation
2019-09-03 23:25:25.119 +02:00 [DBG] Start parsing Basic Authentication secret
2019-09-03 23:25:25.121 +02:00 [DBG] Start parsing for secret in post body
2019-09-03 23:25:25.122 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-03 23:25:25.123 +02:00 [DBG] Secret id found: ro.time_tracking
2019-09-03 23:25:25.131 +02:00 [DBG] ro.time_tracking found in database: true
2019-09-03 23:25:25.133 +02:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-09-03 23:25:25.135 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-03 23:25:25.135 +02:00 [DBG] Client validation success
2019-09-03 23:25:25.138 +02:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPGLUBP2V9R:00000001","TimeStamp":"2019-09-03T21:25:25.0000000Z","ProcessId":26044,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-03 23:25:25.143 +02:00 [DBG] Start token request validation
2019-09-03 23:25:25.143 +02:00 [DBG] Start resource owner password token request validation
2019-09-03 23:25:25.147 +02:00 [DBG] Found [] identity scopes in database
2019-09-03 23:25:25.154 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-09-03 23:25:25.156 +02:00 [DBG] Found [] identity scopes in database
2019-09-03 23:25:25.164 +02:00 [DBG] Found ["time_tracking"] API scopes in database
2019-09-03 23:25:25.184 +02:00 [INF] Credentials validated for username: alice
2019-09-03 23:25:25.188 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPGLUBP2V9R:00000001","TimeStamp":"2019-09-03T21:25:25.0000000Z","ProcessId":26044,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-03 23:25:25.192 +02:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPGLUBP2V9R:00000001","TimeStamp":"2019-09-03T21:25:25.0000000Z","ProcessId":26044,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-03 23:25:25.205 +02:00 [DBG] Resource owner password token request validation success.
2019-09-03 23:25:25.206 +02:00 [INF] Token request validation success
{"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-03 23:25:25.210 +02:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-09-03 23:25:25.211 +02:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-09-03 23:25:25.231 +02:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****6oOA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPGLUBP2V9R:00000001","TimeStamp":"2019-09-03T21:25:25.0000000Z","ProcessId":26044,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-03 23:25:25.236 +02:00 [DBG] Token request success.
2019-09-03 23:25:43.035 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-03 23:25:43.041 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-03 23:25:43.043 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-03 23:25:43.045 +02:00 [DBG] Start discovery request
2019-09-03 23:25:43.052 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-09-03 23:25:43.103 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-03 23:25:43.109 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-03 23:25:43.110 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-03 23:25:43.115 +02:00 [DBG] Start key discovery request
2019-09-03 23:30:54.890 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-03 23:30:54.908 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-03 23:30:54.910 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-03 23:30:54.912 +02:00 [DBG] Start discovery request
2019-09-03 23:30:54.920 +02:00 [DBG] Found ["openid","profile","email","api1","time_tracking"] as all scopes in database
2019-09-03 23:30:54.968 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-03 23:30:54.978 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-03 23:30:54.980 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-03 23:30:54.982 +02:00 [DBG] Start key discovery request
2019-12-15 21:47:58.101 +01:00 [INF] Starting IdentityServer4 version 2.3.2.0
2019-12-15 21:47:58.340 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-12-15 21:47:58.341 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-12-15 21:47:58.347 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-12-15 21:47:58.348 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-12-15 21:47:58.352 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-12-15 21:47:58.353 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-12-15 21:47:58.534 +01:00 [DBG] Starting grant removal
2019-12-15 22:01:54.634 +01:00 [DBG] Login Url: /Account/Login
2019-12-15 22:01:54.636 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-15 22:01:54.637 +01:00 [DBG] Logout Url: /Account/Logout
2019-12-15 22:01:54.641 +01:00 [DBG] ConsentUrl Url: /consent
2019-12-15 22:01:54.641 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-15 22:01:54.642 +01:00 [DBG] Error Url: /home/error
2019-12-15 22:01:54.642 +01:00 [DBG] Error Id Parameter: errorId
2019-12-15 22:01:54.667 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-15 22:01:54.736 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-15 22:01:54.737 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-15 22:01:54.746 +01:00 [DBG] Start token request.
2019-12-15 22:01:54.751 +01:00 [DBG] Start client validation
2019-12-15 22:01:54.755 +01:00 [DBG] Start parsing Basic Authentication secret
2019-12-15 22:01:54.757 +01:00 [DBG] Start parsing for secret in post body
2019-12-15 22:01:54.786 +01:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-15 22:01:54.786 +01:00 [DBG] Secret id found: ro.time_tracking
2019-12-15 22:01:55.469 +01:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Microsoft.EntityFrameworkCore.Metadata.Builders.IndexBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.EntityTypeBuilder`1.HasIndex(System.Linq.Expressions.Expression`1<System.Func`2<!0,System.Object>>)'.\r\n   at IdentityServer4.EntityFramework.Extensions.ModelBuilderExtensions.<>c__DisplayClass1_0.<ConfigureClientContext>b__0(EntityTypeBuilder`1 client)\r\n   at Microsoft.EntityFrameworkCore.ModelBuilder.Entity[TEntity](Action`1 buildAction)\r\n   at IdentityServer4.EntityFramework.Extensions.ModelBuilderExtensions.ConfigureClientContext(ModelBuilder modelBuilder, ConfigurationStoreOptions storeOptions)\r\n   at IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext`1.OnModelCreating(ModelBuilder modelBuilder)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelCustomizer.Customize(ModelBuilder modelBuilder, DbContext context)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.<>c__DisplayClass5_0.<GetModel>b__1()\r\n   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)\r\n   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)\r\n   at System.Lazy`1.CreateValue()\r\n   at System.Lazy`1.get_Value()\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder)\r\n   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()\r\n   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_Model()\r\n   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()\r\n   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()\r\n   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()\r\n   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.Include[TEntity,TProperty](IQueryable`1 source, Expression`1 navigationPropertyPath)\r\n   at IdentityServer4.EntityFramework.Stores.ClientStore.FindClientByIdAsync(String clientId)\r\n   at IdentityServer4.Stores.ValidatingClientStore`1.FindClientByIdAsync(String clientId)\r\n   at IdentityServer4.Stores.IClientStoreExtensions.FindEnabledClientByIdAsync(IClientStore store, String clientId)\r\n   at IdentityServer4.Validation.ClientSecretValidator.ValidateAsync(HttpContext context)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Microsoft.EntityFrameworkCore.Metadata.Builders.IndexBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.EntityTypeBuilder`1.HasIndex(System.Linq.Expressions.Expression`1<System.Func`2<!0,System.Object>>)'.","ActivityId":"0HLS1K81TUV6G:00000001","TimeStamp":"2019-12-15T21:01:55.0000000Z","ProcessId":15084,"LocalIpAddress":"::1:51437","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-12-15 22:01:55.523 +01:00 [FTL] Unhandled exception: Method not found: 'Microsoft.EntityFrameworkCore.Metadata.Builders.IndexBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.EntityTypeBuilder`1.HasIndex(System.Linq.Expressions.Expression`1<System.Func`2<!0,System.Object>>)'.
System.MissingMethodException: Method not found: 'Microsoft.EntityFrameworkCore.Metadata.Builders.IndexBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.EntityTypeBuilder`1.HasIndex(System.Linq.Expressions.Expression`1<System.Func`2<!0,System.Object>>)'.
   at IdentityServer4.EntityFramework.Extensions.ModelBuilderExtensions.<>c__DisplayClass1_0.<ConfigureClientContext>b__0(EntityTypeBuilder`1 client)
   at Microsoft.EntityFrameworkCore.ModelBuilder.Entity[TEntity](Action`1 buildAction)
   at IdentityServer4.EntityFramework.Extensions.ModelBuilderExtensions.ConfigureClientContext(ModelBuilder modelBuilder, ConfigurationStoreOptions storeOptions)
   at IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext`1.OnModelCreating(ModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelCustomizer.Customize(ModelBuilder modelBuilder, DbContext context)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.<>c__DisplayClass5_0.<GetModel>b__1()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.Include[TEntity,TProperty](IQueryable`1 source, Expression`1 navigationPropertyPath)
   at IdentityServer4.EntityFramework.Stores.ClientStore.FindClientByIdAsync(String clientId)
   at IdentityServer4.Stores.ValidatingClientStore`1.FindClientByIdAsync(String clientId)
   at IdentityServer4.Stores.IClientStoreExtensions.FindEnabledClientByIdAsync(IClientStore store, String clientId)
   at IdentityServer4.Validation.ClientSecretValidator.ValidateAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
2019-12-15 22:01:55.558 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Microsoft.EntityFrameworkCore.Metadata.Builders.IndexBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.EntityTypeBuilder`1.HasIndex(System.Linq.Expressions.Expression`1<System.Func`2<!0,System.Object>>)'.
   at IdentityServer4.EntityFramework.Extensions.ModelBuilderExtensions.<>c__DisplayClass1_0.<ConfigureClientContext>b__0(EntityTypeBuilder`1 client)
   at Microsoft.EntityFrameworkCore.ModelBuilder.Entity[TEntity](Action`1 buildAction)
   at IdentityServer4.EntityFramework.Extensions.ModelBuilderExtensions.ConfigureClientContext(ModelBuilder modelBuilder, ConfigurationStoreOptions storeOptions)
   at IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext`1.OnModelCreating(ModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelCustomizer.Customize(ModelBuilder modelBuilder, DbContext context)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.<>c__DisplayClass5_0.<GetModel>b__1()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.Include[TEntity,TProperty](IQueryable`1 source, Expression`1 navigationPropertyPath)
   at IdentityServer4.EntityFramework.Stores.ClientStore.FindClientByIdAsync(String clientId)
   at IdentityServer4.Stores.ValidatingClientStore`1.FindClientByIdAsync(String clientId)
   at IdentityServer4.Stores.IClientStoreExtensions.FindEnabledClientByIdAsync(IClientStore store, String clientId)
   at IdentityServer4.Validation.ClientSecretValidator.ValidateAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-12-16 19:23:09.782 +01:00 [ERR] Exception removing expired grants: Method not found: 'Microsoft.EntityFrameworkCore.Metadata.Builders.IndexBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.EntityTypeBuilder`1.HasIndex(System.Linq.Expressions.Expression`1<System.Func`2<!0,System.Object>>)'.
2019-12-16 19:36:17.128 +01:00 [DBG] TaskCanceledException. Exiting.
2019-12-16 19:36:17.164 +01:00 [DBG] Stopping grant removal
2019-12-16 19:39:30.586 +01:00 [INF] Starting IdentityServer4 version 3.0.0.0
2019-12-16 19:39:31.108 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-12-16 19:39:31.111 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-12-16 19:39:31.116 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-12-16 19:39:31.117 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-12-16 19:39:31.118 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-12-16 19:39:31.124 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-12-16 19:40:28.634 +01:00 [DBG] Login Url: /Account/Login
2019-12-16 19:40:28.636 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-16 19:40:28.638 +01:00 [DBG] Logout Url: /Account/Logout
2019-12-16 19:40:28.643 +01:00 [DBG] ConsentUrl Url: /consent
2019-12-16 19:40:28.644 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-16 19:40:28.644 +01:00 [DBG] Error Url: /home/error
2019-12-16 19:40:28.644 +01:00 [DBG] Error Id Parameter: errorId
2019-12-16 19:40:28.664 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 19:40:28.769 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 19:40:28.772 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 19:40:28.800 +01:00 [DBG] Start token request.
2019-12-16 19:40:28.805 +01:00 [DBG] Start client validation
2019-12-16 19:40:28.818 +01:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 19:40:28.822 +01:00 [DBG] Start parsing for secret in post body
2019-12-16 19:40:28.930 +01:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 19:40:28.931 +01:00 [DBG] Secret id found: ro.time_tracking
2019-12-16 19:40:32.170 +01:00 [DBG] ro.time_tracking found in database: true
2019-12-16 19:40:32.192 +01:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-12-16 19:40:32.271 +01:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 19:40:32.272 +01:00 [DBG] Client validation success
2019-12-16 19:40:32.314 +01:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLS2ATM3IQ7S:00000001","TimeStamp":"2019-12-16T18:40:32.0000000Z","ProcessId":13392,"LocalIpAddress":"::1:51437","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-12-16 19:40:32.335 +01:00 [DBG] Start token request validation
2019-12-16 19:40:32.341 +01:00 [DBG] Start resource owner password token request validation
2019-12-16 19:40:32.399 +01:00 [DBG] Found [] identity scopes in database
2019-12-16 19:40:32.587 +01:00 [DBG] Found ["time_tracking"] API scopes in database
2019-12-16 19:40:32.604 +01:00 [DBG] Found [] identity scopes in database
2019-12-16 19:40:32.610 +01:00 [DBG] Found ["time_tracking"] API scopes in database
2019-12-16 19:40:32.917 +01:00 [INF] Credentials validated for username: alice
2019-12-16 19:40:32.925 +01:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","ClientId":"ro.time_tracking","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLS2ATM3IQ7S:00000001","TimeStamp":"2019-12-16T18:40:32.0000000Z","ProcessId":13392,"LocalIpAddress":"::1:51437","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-12-16 19:40:32.956 +01:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","ClientId":"ro.time_tracking","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLS2ATM3IQ7S:00000001","TimeStamp":"2019-12-16T18:40:32.0000000Z","ProcessId":13392,"LocalIpAddress":"::1:51437","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-12-16 19:40:32.982 +01:00 [DBG] Resource owner password token request validation success.
2019-12-16 19:40:32.995 +01:00 [INF] Token request validation success, {"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 19:40:33.043 +01:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-12-16 19:40:33.045 +01:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-12-16 19:40:33.394 +01:00 [INF] {"Details":"System.InvalidOperationException: No signing credential is configured. Can't create JWT token\r\n   at IdentityServer4.Services.DefaultTokenCreationService.CreateHeaderAsync(Token token)\r\n   at IdentityServer4.Services.DefaultTokenCreationService.CreateTokenAsync(Token token)\r\n   at IdentityServer4.Services.DefaultTokenService.CreateSecurityTokenAsync(Token token)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessTokenRequestAsync(TokenRequestValidationResult validationResult)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"No signing credential is configured. Can't create JWT token","ActivityId":"0HLS2ATM3IQ7S:00000001","TimeStamp":"2019-12-16T18:40:33.0000000Z","ProcessId":13392,"LocalIpAddress":"::1:51437","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-12-16 19:40:33.404 +01:00 [FTL] Unhandled exception: No signing credential is configured. Can't create JWT token
System.InvalidOperationException: No signing credential is configured. Can't create JWT token
   at IdentityServer4.Services.DefaultTokenCreationService.CreateHeaderAsync(Token token)
   at IdentityServer4.Services.DefaultTokenCreationService.CreateTokenAsync(Token token)
   at IdentityServer4.Services.DefaultTokenService.CreateSecurityTokenAsync(Token token)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessTokenRequestAsync(TokenRequestValidationResult validationResult)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
2019-12-16 19:40:33.421 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No signing credential is configured. Can't create JWT token
   at IdentityServer4.Services.DefaultTokenCreationService.CreateHeaderAsync(Token token)
   at IdentityServer4.Services.DefaultTokenCreationService.CreateTokenAsync(Token token)
   at IdentityServer4.Services.DefaultTokenService.CreateSecurityTokenAsync(Token token)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessTokenRequestAsync(TokenRequestValidationResult validationResult)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-12-16 19:46:30.811 +01:00 [INF] Starting IdentityServer4 version 3.0.0.0
2019-12-16 19:46:30.928 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-12-16 19:46:30.929 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-12-16 19:46:30.935 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-12-16 19:46:30.939 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-12-16 19:46:30.940 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-12-16 19:46:30.948 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-12-16 19:48:28.812 +01:00 [DBG] Login Url: /Account/Login
2019-12-16 19:48:28.814 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-16 19:48:28.815 +01:00 [DBG] Logout Url: /Account/Logout
2019-12-16 19:48:28.819 +01:00 [DBG] ConsentUrl Url: /consent
2019-12-16 19:48:28.819 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-16 19:48:28.820 +01:00 [DBG] Error Url: /home/error
2019-12-16 19:48:28.821 +01:00 [DBG] Error Id Parameter: errorId
2019-12-16 19:48:28.847 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 19:48:28.889 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 19:48:28.895 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 19:48:28.921 +01:00 [DBG] Start token request.
2019-12-16 19:48:28.929 +01:00 [DBG] Start client validation
2019-12-16 19:48:28.936 +01:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 19:48:28.940 +01:00 [DBG] Start parsing for secret in post body
2019-12-16 19:48:28.954 +01:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 19:48:28.954 +01:00 [DBG] Secret id found: ro.time_tracking
2019-12-16 19:48:30.948 +01:00 [DBG] ro.time_tracking found in database: true
2019-12-16 19:48:30.955 +01:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-12-16 19:48:30.966 +01:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 19:48:30.966 +01:00 [DBG] Client validation success
2019-12-16 19:48:30.977 +01:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLS2B256VFDI:00000001","TimeStamp":"2019-12-16T18:48:30.0000000Z","ProcessId":14528,"LocalIpAddress":"::1:51437","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-12-16 19:48:30.992 +01:00 [DBG] Start token request validation
2019-12-16 19:48:30.997 +01:00 [DBG] Start resource owner password token request validation
2019-12-16 19:48:31.034 +01:00 [DBG] Found [] identity scopes in database
2019-12-16 19:48:31.125 +01:00 [DBG] Found ["time_tracking"] API scopes in database
2019-12-16 19:48:31.138 +01:00 [DBG] Found [] identity scopes in database
2019-12-16 19:48:31.141 +01:00 [DBG] Found ["time_tracking"] API scopes in database
2019-12-16 19:48:31.287 +01:00 [INF] Credentials validated for username: alice
2019-12-16 19:48:31.294 +01:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","ClientId":"ro.time_tracking","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLS2B256VFDI:00000001","TimeStamp":"2019-12-16T18:48:31.0000000Z","ProcessId":14528,"LocalIpAddress":"::1:51437","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-12-16 19:48:31.306 +01:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","ClientId":"ro.time_tracking","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLS2B256VFDI:00000001","TimeStamp":"2019-12-16T18:48:31.0000000Z","ProcessId":14528,"LocalIpAddress":"::1:51437","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-12-16 19:48:31.316 +01:00 [DBG] Resource owner password token request validation success.
2019-12-16 19:48:31.322 +01:00 [INF] Token request validation success, {"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 19:48:31.363 +01:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-12-16 19:48:31.364 +01:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-12-16 19:48:31.471 +01:00 [INF] {"Details":"System.InvalidOperationException: No signing credential is configured. Can't create JWT token\r\n   at IdentityServer4.Services.DefaultTokenCreationService.CreateHeaderAsync(Token token)\r\n   at IdentityServer4.Services.DefaultTokenCreationService.CreateTokenAsync(Token token)\r\n   at IdentityServer4.Services.DefaultTokenService.CreateSecurityTokenAsync(Token token)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessTokenRequestAsync(TokenRequestValidationResult validationResult)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"No signing credential is configured. Can't create JWT token","ActivityId":"0HLS2B256VFDI:00000001","TimeStamp":"2019-12-16T18:48:31.0000000Z","ProcessId":14528,"LocalIpAddress":"::1:51437","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-12-16 19:48:31.480 +01:00 [FTL] Unhandled exception: No signing credential is configured. Can't create JWT token
System.InvalidOperationException: No signing credential is configured. Can't create JWT token
   at IdentityServer4.Services.DefaultTokenCreationService.CreateHeaderAsync(Token token)
   at IdentityServer4.Services.DefaultTokenCreationService.CreateTokenAsync(Token token)
   at IdentityServer4.Services.DefaultTokenService.CreateSecurityTokenAsync(Token token)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessTokenRequestAsync(TokenRequestValidationResult validationResult)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
2019-12-16 19:48:31.490 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No signing credential is configured. Can't create JWT token
   at IdentityServer4.Services.DefaultTokenCreationService.CreateHeaderAsync(Token token)
   at IdentityServer4.Services.DefaultTokenCreationService.CreateTokenAsync(Token token)
   at IdentityServer4.Services.DefaultTokenService.CreateSecurityTokenAsync(Token token)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessTokenRequestAsync(TokenRequestValidationResult validationResult)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-12-16 21:11:11.268 +01:00 [INF] Starting IdentityServer4 version 3.0.0.0
2019-12-16 21:11:11.446 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-12-16 21:11:11.446 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-12-16 21:11:11.455 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-12-16 21:11:11.459 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-12-16 21:11:11.460 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-12-16 21:11:11.461 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-12-16 21:11:16.859 +01:00 [DBG] Login Url: /Account/Login
2019-12-16 21:11:16.862 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-16 21:11:16.868 +01:00 [DBG] Logout Url: /Account/Logout
2019-12-16 21:11:16.870 +01:00 [DBG] ConsentUrl Url: /consent
2019-12-16 21:11:16.871 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-16 21:11:16.877 +01:00 [DBG] Error Url: /home/error
2019-12-16 21:11:16.878 +01:00 [DBG] Error Id Parameter: errorId
2019-12-16 21:11:16.908 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 21:11:17.036 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 21:11:17.045 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 21:11:17.066 +01:00 [DBG] Start token request.
2019-12-16 21:11:17.076 +01:00 [DBG] Start client validation
2019-12-16 21:11:17.092 +01:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 21:11:17.099 +01:00 [DBG] Start parsing for secret in post body
2019-12-16 21:11:17.162 +01:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 21:11:17.163 +01:00 [DBG] Secret id found: ro.time_tracking
2019-12-16 21:11:19.564 +01:00 [DBG] ro.time_tracking found in database: true
2019-12-16 21:11:19.576 +01:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-12-16 21:11:19.587 +01:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 21:11:19.587 +01:00 [DBG] Client validation success
2019-12-16 21:11:19.599 +01:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLS2CGDPLUDB:00000001","TimeStamp":"2019-12-16T20:11:19.0000000Z","ProcessId":20452,"LocalIpAddress":"::1:51437","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-12-16 21:11:19.616 +01:00 [DBG] Start token request validation
2019-12-16 21:11:19.621 +01:00 [DBG] Start resource owner password token request validation
2019-12-16 21:11:19.724 +01:00 [DBG] Found [] identity scopes in database
2019-12-16 21:11:19.841 +01:00 [DBG] Found ["time_tracking"] API scopes in database
2019-12-16 21:11:19.855 +01:00 [DBG] Found [] identity scopes in database
2019-12-16 21:11:19.858 +01:00 [DBG] Found ["time_tracking"] API scopes in database
2019-12-16 21:11:20.079 +01:00 [INF] Credentials validated for username: alice
2019-12-16 21:11:20.084 +01:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","ClientId":"ro.time_tracking","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLS2CGDPLUDB:00000001","TimeStamp":"2019-12-16T20:11:20.0000000Z","ProcessId":20452,"LocalIpAddress":"::1:51437","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-12-16 21:11:20.108 +01:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","ClientId":"ro.time_tracking","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLS2CGDPLUDB:00000001","TimeStamp":"2019-12-16T20:11:20.0000000Z","ProcessId":20452,"LocalIpAddress":"::1:51437","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-12-16 21:11:20.122 +01:00 [DBG] Resource owner password token request validation success.
2019-12-16 21:11:20.132 +01:00 [INF] Token request validation success, {"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 21:11:20.158 +01:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-12-16 21:11:20.158 +01:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-12-16 21:11:20.298 +01:00 [INF] {"Details":"System.InvalidOperationException: No signing credential is configured. Can't create JWT token\r\n   at IdentityServer4.Services.DefaultTokenCreationService.CreateHeaderAsync(Token token)\r\n   at IdentityServer4.Services.DefaultTokenCreationService.CreateTokenAsync(Token token)\r\n   at IdentityServer4.Services.DefaultTokenService.CreateSecurityTokenAsync(Token token)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessTokenRequestAsync(TokenRequestValidationResult validationResult)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"No signing credential is configured. Can't create JWT token","ActivityId":"0HLS2CGDPLUDB:00000001","TimeStamp":"2019-12-16T20:11:20.0000000Z","ProcessId":20452,"LocalIpAddress":"::1:51437","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-12-16 21:11:20.308 +01:00 [FTL] Unhandled exception: No signing credential is configured. Can't create JWT token
System.InvalidOperationException: No signing credential is configured. Can't create JWT token
   at IdentityServer4.Services.DefaultTokenCreationService.CreateHeaderAsync(Token token)
   at IdentityServer4.Services.DefaultTokenCreationService.CreateTokenAsync(Token token)
   at IdentityServer4.Services.DefaultTokenService.CreateSecurityTokenAsync(Token token)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessTokenRequestAsync(TokenRequestValidationResult validationResult)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
2019-12-16 21:11:20.332 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No signing credential is configured. Can't create JWT token
   at IdentityServer4.Services.DefaultTokenCreationService.CreateHeaderAsync(Token token)
   at IdentityServer4.Services.DefaultTokenCreationService.CreateTokenAsync(Token token)
   at IdentityServer4.Services.DefaultTokenService.CreateSecurityTokenAsync(Token token)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessTokenRequestAsync(TokenRequestValidationResult validationResult)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-12-16 21:13:01.779 +01:00 [INF] Starting IdentityServer4 version 3.0.0.0
2019-12-16 21:13:01.915 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-12-16 21:13:01.917 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-12-16 21:13:01.924 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-12-16 21:13:01.928 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-12-16 21:13:01.930 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-12-16 21:13:01.933 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-12-16 21:13:07.099 +01:00 [DBG] Login Url: /Account/Login
2019-12-16 21:13:07.101 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-16 21:13:07.103 +01:00 [DBG] Logout Url: /Account/Logout
2019-12-16 21:13:07.107 +01:00 [DBG] ConsentUrl Url: /consent
2019-12-16 21:13:07.108 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-16 21:13:07.109 +01:00 [DBG] Error Url: /home/error
2019-12-16 21:13:07.111 +01:00 [DBG] Error Id Parameter: errorId
2019-12-16 21:13:07.135 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 21:13:07.194 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 21:13:07.198 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 21:13:07.210 +01:00 [DBG] Start token request.
2019-12-16 21:13:07.214 +01:00 [DBG] Start client validation
2019-12-16 21:13:07.222 +01:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 21:13:07.227 +01:00 [DBG] Start parsing for secret in post body
2019-12-16 21:13:07.239 +01:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 21:13:07.240 +01:00 [DBG] Secret id found: ro.time_tracking
2019-12-16 21:13:10.318 +01:00 [DBG] ro.time_tracking found in database: true
2019-12-16 21:13:10.336 +01:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-12-16 21:13:10.377 +01:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 21:13:10.378 +01:00 [DBG] Client validation success
2019-12-16 21:13:10.400 +01:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLS2CHELC544:00000001","TimeStamp":"2019-12-16T20:13:10.0000000Z","ProcessId":17644,"LocalIpAddress":"::1:51437","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-12-16 21:13:10.427 +01:00 [DBG] Start token request validation
2019-12-16 21:13:10.435 +01:00 [DBG] Start resource owner password token request validation
2019-12-16 21:13:10.524 +01:00 [DBG] Found [] identity scopes in database
2019-12-16 21:13:10.700 +01:00 [DBG] Found ["time_tracking"] API scopes in database
2019-12-16 21:13:10.763 +01:00 [DBG] Found [] identity scopes in database
2019-12-16 21:13:10.777 +01:00 [DBG] Found ["time_tracking"] API scopes in database
2019-12-16 21:13:11.200 +01:00 [INF] Credentials validated for username: alice
2019-12-16 21:13:11.203 +01:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","ClientId":"ro.time_tracking","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLS2CHELC544:00000001","TimeStamp":"2019-12-16T20:13:11.0000000Z","ProcessId":17644,"LocalIpAddress":"::1:51437","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-12-16 21:13:11.254 +01:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","ClientId":"ro.time_tracking","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLS2CHELC544:00000001","TimeStamp":"2019-12-16T20:13:11.0000000Z","ProcessId":17644,"LocalIpAddress":"::1:51437","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-12-16 21:13:11.268 +01:00 [DBG] Resource owner password token request validation success.
2019-12-16 21:13:11.283 +01:00 [INF] Token request validation success, {"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 21:13:11.337 +01:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-12-16 21:13:11.340 +01:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-12-16 21:13:11.849 +01:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****EGWQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLS2CHELC544:00000001","TimeStamp":"2019-12-16T20:13:11.0000000Z","ProcessId":17644,"LocalIpAddress":"::1:51437","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-12-16 21:13:11.886 +01:00 [DBG] Token request success.
2019-12-16 21:35:26.132 +01:00 [INF] Starting IdentityServer4 version 3.0.0.0
2019-12-16 21:35:26.470 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-12-16 21:35:26.475 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-12-16 21:35:26.482 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-12-16 21:35:26.485 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-12-16 21:35:26.495 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-12-16 21:35:26.500 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-12-16 21:37:35.075 +01:00 [DBG] Login Url: /Account/Login
2019-12-16 21:37:35.079 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-16 21:37:35.082 +01:00 [DBG] Logout Url: /Account/Logout
2019-12-16 21:37:35.090 +01:00 [DBG] ConsentUrl Url: /consent
2019-12-16 21:37:35.093 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-16 21:37:35.094 +01:00 [DBG] Error Url: /home/error
2019-12-16 21:37:35.097 +01:00 [DBG] Error Id Parameter: errorId
2019-12-16 21:37:35.142 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 21:37:35.215 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 21:37:35.221 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 21:37:35.250 +01:00 [DBG] Start token request.
2019-12-16 21:37:35.260 +01:00 [DBG] Start client validation
2019-12-16 21:37:35.275 +01:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 21:37:35.278 +01:00 [DBG] Start parsing for secret in post body
2019-12-16 21:37:35.296 +01:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 21:37:35.297 +01:00 [DBG] Secret id found: ro.time_tracking
2019-12-16 21:37:37.255 +01:00 [DBG] ro.time_tracking found in database: true
2019-12-16 21:37:37.263 +01:00 [DBG] client configuration validation for client ro.time_tracking succeeded.
2019-12-16 21:37:37.277 +01:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 21:37:37.278 +01:00 [DBG] Client validation success
2019-12-16 21:37:37.291 +01:00 [INF] {"ClientId":"ro.time_tracking","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLS2CV44N85Q:00000001","TimeStamp":"2019-12-16T20:37:37.0000000Z","ProcessId":10372,"LocalIpAddress":"127.0.0.1:5000","RemoteIpAddress":"127.0.0.1","$type":"ClientAuthenticationSuccessEvent"}
2019-12-16 21:37:37.314 +01:00 [DBG] Start token request validation
2019-12-16 21:37:37.321 +01:00 [DBG] Start resource owner password token request validation
2019-12-16 21:37:37.387 +01:00 [DBG] Found [] identity scopes in database
2019-12-16 21:37:37.480 +01:00 [DBG] Found ["time_tracking"] API scopes in database
2019-12-16 21:37:37.496 +01:00 [DBG] Found [] identity scopes in database
2019-12-16 21:37:37.500 +01:00 [DBG] Found ["time_tracking"] API scopes in database
2019-12-16 21:37:37.703 +01:00 [INF] Credentials validated for username: alice
2019-12-16 21:37:37.706 +01:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":"alice","Endpoint":"Token","ClientId":"ro.time_tracking","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLS2CV44N85Q:00000001","TimeStamp":"2019-12-16T20:37:37.0000000Z","ProcessId":10372,"LocalIpAddress":"127.0.0.1:5000","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-12-16 21:37:37.722 +01:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","DisplayName":null,"Endpoint":"Token","ClientId":"ro.time_tracking","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLS2CV44N85Q:00000001","TimeStamp":"2019-12-16T20:37:37.0000000Z","ProcessId":10372,"LocalIpAddress":"127.0.0.1:5000","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2019-12-16 21:37:37.730 +01:00 [DBG] Resource owner password token request validation success.
2019-12-16 21:37:37.738 +01:00 [INF] Token request validation success, {"ClientId":"ro.time_tracking","ClientName":null,"GrantType":"password","Scopes":"time_tracking","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","scope":"time_tracking","client_id":"ro.time_tracking","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 21:37:37.788 +01:00 [DBG] Getting claims for access token for client: ro.time_tracking
2019-12-16 21:37:37.790 +01:00 [DBG] Getting claims for access token for subject: 358e665f-d92f-4203-bc36-293e38b9a624
2019-12-16 21:37:38.011 +01:00 [INF] {"ClientId":"ro.time_tracking","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"358e665f-d92f-4203-bc36-293e38b9a624","Scopes":"time_tracking","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****IT4Q","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLS2CV44N85Q:00000001","TimeStamp":"2019-12-16T20:37:38.0000000Z","ProcessId":10372,"LocalIpAddress":"127.0.0.1:5000","RemoteIpAddress":"127.0.0.1","$type":"TokenIssuedSuccessEvent"}
2019-12-16 21:37:38.023 +01:00 [DBG] Token request success.
2019-12-17 19:50:28.258 +01:00 [INF] Removing 0 grants
2019-12-17 19:50:28.290 +01:00 [INF] Removing 0 device flow codes
2019-12-17 20:50:28.368 +01:00 [INF] Removing 0 grants
2019-12-17 20:50:28.379 +01:00 [INF] Removing 0 device flow codes
2019-12-17 21:50:28.461 +01:00 [INF] Removing 0 grants
2019-12-17 21:50:28.463 +01:00 [INF] Removing 0 device flow codes
2019-12-18 00:02:43.461 +01:00 [INF] Removing 0 grants
2019-12-18 00:02:43.467 +01:00 [INF] Removing 0 device flow codes
2019-12-18 23:25:29.228 +01:00 [INF] Removing 0 grants
2019-12-18 23:25:29.239 +01:00 [INF] Removing 0 device flow codes
2019-12-19 23:21:48.626 +01:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `ApiResources` (
    `Id` int NOT NULL,
    `Enabled` tinyint(1) NOT NULL,
    `Name` varchar(200) CHARACTER SET utf8mb4 NOT NULL,
    `DisplayName` varchar(200) CHARACTER SET utf8mb4 NULL,
    `Description` varchar(1000) CHARACTER SET utf8mb4 NULL,
    `Created` datetime(6) NOT NULL,
    `Updated` datetime(6) NULL,
    `LastAccessed` datetime(6) NULL,
    `NonEditable` tinyint(1) NOT NULL,
    CONSTRAINT `PK_ApiResources` PRIMARY KEY (`Id`)
);
2019-12-20 08:37:36.385 +01:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `ApiResources` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Enabled` tinyint(1) NOT NULL,
    `Name` varchar(200) CHARACTER SET utf8mb4 NOT NULL,
    `DisplayName` varchar(200) CHARACTER SET utf8mb4 NULL,
    `Description` varchar(1000) CHARACTER SET utf8mb4 NULL,
    `Created` datetime(6) NOT NULL,
    `Updated` datetime(6) NULL,
    `LastAccessed` datetime(6) NULL,
    `NonEditable` tinyint(1) NOT NULL,
    CONSTRAINT `PK_ApiResources` PRIMARY KEY (`Id`)
);
2019-12-20 18:57:56.997 +01:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX `IX_ApiResources_Name` ON `ApiResources` (`Name`);
2019-12-20 19:57:15.995 +01:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApiResources" (
    "Id" integer NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    "Enabled" boolean NOT NULL,
    "Name" character varying(200) NOT NULL,
    "DisplayName" character varying(200) NULL,
    "Description" character varying(1000) NULL,
    "Created" timestamp without time zone NOT NULL,
    "Updated" timestamp without time zone NULL,
    "LastAccessed" timestamp without time zone NULL,
    "NonEditable" boolean NOT NULL,
    CONSTRAINT "PK_ApiResources" PRIMARY KEY ("Id")
);
